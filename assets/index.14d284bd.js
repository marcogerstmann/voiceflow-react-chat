import{a as x,j as i,r as w,F as re,R as en}from"./jsx-runtime.59960217.js";import{A as J}from"./index.d28abc78.js";import{t as Y,C as U}from"./tag.fa019879.js";import{s as S,f as tn,a as yt,c as nn}from"./animation.2930b70b.js";import{B as Q}from"./index.28646bdb.js";import{C as on}from"./index.640b1abc.js";import{I as rn}from"./index.c0b90811.js";import{I as X,S as st}from"./index.50117bee.js";import{L as _t}from"./index.82f43790.js";import{A as an,D as ze,F as he,R as vt,S as sn,M as G,a as cn}from"./index.1949ca62.js";import{c as ln}from"./functional.786f54e2.js";import{c as wt,q as un}from"./iframe.d81f7bc1.js";import{T as dn}from"./index.f569aafa.js";import{M as Ge}from"./index.0574b405.js";import{T as ne}from"./index.a05c6308.js";import{C as Xe,a as fn}from"./index.10f07825.js";import{r as xt}from"./index.00fdd2ab.js";import{I as St}from"./index.61c51d93.js";import{D as pn}from"./index.afb10ac8.js";import"./index.484a71f2.js";import{T as bt}from"./index.1384e427.js";const $t={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},Je=Y(U.ASSISTANT_INFO),Qe=S(Je("h2","title"),{...$t,width:"100%",margin:0,typo:{size:20,weight:"$2",height:"$3"},color:"$black"}),Ct=S(Je("p","description"),{display:"-webkit-box",margin:0,typo:{},color:"$darkGrey","-webkit-line-clamp":2,"-webkit-box-orient":"vertical",overflow:"hidden",wordBreak:"break-word"}),Ot=S(Je("div"),{display:"flex",flexDirection:"column",alignItems:"center",padding:"48px 32px",textAlign:"center",[`& ${J.Container}`]:{marginBottom:"$4"},[`& ${Qe}`]:{marginBottom:8}}),ge=({title:t,description:e,avatar:o})=>x(Ot,{children:[i(J,{size:"large",avatar:o}),i(Qe,{children:t}),i(Ct,{children:e})]}),Tt=Object.assign(ge,{Container:Ot,Title:Qe,Description:Ct});try{ge.displayName="AssistantInfo",ge.__docgenInfo={description:`This component displays introductory information about the assistant.
It will act as a placeholder before the conversation has started.`,displayName:"AssistantInfo",props:{title:{defaultValue:null,description:"The title of the assistant.",name:"title",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"A short description of the assistant to help frame the conversation.",name:"description",required:!0,type:{name:"string"}},avatar:{defaultValue:null,description:"An image URL that identifies the assistant, such as a brand icon.",name:"avatar",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/AssistantInfo/index.tsx#AssistantInfo"]={docgenInfo:ge.__docgenInfo,name:"AssistantInfo",path:"src/components/AssistantInfo/index.tsx#AssistantInfo"})}catch{}const It=Y(U.FOOTER),Rt=S(It("footer"),{padding:"$3 $4 $4 $4",borderRadius:"$1",[`& ${rn.Container}`]:{flex:1},[`& ${Q.Container}`]:{width:"100%"},variants:{withShadow:{true:{boxShadow:"0 12px 48px $shadow16"}},withWatermark:{true:{paddingBottom:"0"}}}}),At=S(It("aside","watermark"),{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px 0 $3 0",typo:{size:12,height:"17px"},color:"$darkGrey","& a":{marginLeft:"0.5ch",textDecoration:"none",color:"$blue","&:focus":{outline:0}}}),ye=({withWatermark:t,hasEnded:e,onStart:o,onSend:n})=>{const[r,a]=w.exports.useState(""),[c,u]=w.exports.useState(!1);return x(Rt,{withShadow:!!e,withWatermark:t,children:[e?i(Q,{onClick:o,children:"Neuen Chat beginnen"}):i(on,{value:r,placeholder:"Nachricht...",autoFocus:!0,onValueChange:a,onSend:async()=>{!r||c||(u(!0),a(""),await(n==null?void 0:n(r)),u(!1))},buffering:c}),t&&x(At,{children:["Assistent von",i("a",{target:"_blank",href:"https://www.hi-aichat.com",rel:"noreferrer",children:'"hi ai"'})]})]})},Mt=Object.assign(ye,{Container:Rt,Watermark:At});try{ye.displayName="Footer",ye.__docgenInfo={description:"Footer for the chat widget; displays input controls or a prompt to restart the conversation.",displayName:"Footer",props:{withWatermark:{defaultValue:null,description:"If true, shows a watermark indicating that the conversation is powered by Voiceflow.",name:"withWatermark",required:!0,type:{name:"boolean"}},hasEnded:{defaultValue:null,description:`If true, shows a prompt to start a new chat by calling the {@link onStart} handler.
If false, renders controls for the user to write a response.`,name:"hasEnded",required:!1,type:{name:"boolean"}},onStart:{defaultValue:null,description:"A callback to start a new conversation.",name:"onStart",required:!1,type:{name:"() => Promise<void>"}},onSend:{defaultValue:null,description:"A callback to submit a user response.",name:"onSend",required:!1,type:{name:"(message: string) => Promise<void>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Footer/index.tsx#Footer"]={docgenInfo:ye.__docgenInfo,name:"Footer",path:"src/components/Footer/index.tsx#Footer"})}catch{}const et=Y(U.HEADER),tt=S(et("h1","title"),{...$t,typo:{size:17,weight:"$2",height:"$2"},color:"rgba(255,255,255,0.95)"}),Et=S(et(Q.Reset,"button"),{display:"flex",justifyContent:"center",alignItems:"center",height:32,width:32,marginLeft:8,borderRadius:6,background:"none",trans:["background-color"],"&:hover":{backgroundColor:"rgba(255,255,255,0.16)",[`& ${X.Frame}`]:{color:"$white"}},[`& ${X.Frame}`]:{height:"$xxs",width:"$xxs",color:"rgba(255,255,255,0.8)",trans:["color"]}}),kt=S(et("header"),{display:"flex",flexShrink:0,alignItems:"center",height:"$lg",padding:"0 $4 0 $5",backgroundColor:"$primary",boxShadow:"0 1px 2px $shadow16",[`& ${J.Container}`]:{height:32,width:32},[`& ${tt}`]:{flex:1,margin:"0 0 0 14px"}}),_e=({title:t,image:e,actions:o=[]})=>x(kt,{children:[i(J,{avatar:e}),i(tt,{children:t}),o.map(({svg:n,onClick:r},a)=>i(Et,{onClick:r,children:i(X,{svg:n})},a))]}),Dt=Object.assign(_e,{Container:kt,Title:tt,Button:Et});try{_e.displayName="Header",_e.__docgenInfo={description:"Header for the chat widget with image, title and controls.",displayName:"Header",props:{title:{defaultValue:null,description:"The name of your assistant or title of the conversation.",name:"title",required:!0,type:{name:"string"}},image:{defaultValue:null,description:"An image URL that will be rendered as a small {@link Avatar}.",name:"image",required:!0,type:{name:"string"}},actions:{defaultValue:{value:"[]"},description:"A list of actions that will appear as icon buttons.",name:"actions",required:!1,type:{name:"HeaderActionProps[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Header/index.tsx#Header"]={docgenInfo:_e.__docgenInfo,name:"Header",path:"src/components/Header/index.tsx#Header"})}catch{}const hn=Y(U.PROMPT),Bt=S(hn("div"),{padding:"$4 $4 $3 $4",borderRadius:"$1",backgroundColor:"$white",boxShadow:"0 12px 48px 4px $shadow12",[`& ${Q.Container}`]:{width:"100%",marginTop:"$1","&:first-of-type":{marginTop:0}}}),ve=({accept:t,cancel:e})=>x(Bt,{children:[i(Q.Primary,{tabIndex:-1,...t,children:t.label}),i(Q,{type:"subtle",tabIndex:-1,...e,children:e.label})]}),we=Object.assign(ve,{Container:Bt});try{ve.displayName="Prompt",ve.__docgenInfo={description:"A popup that prompts the user with cancel and accept actions.",displayName:"Prompt",props:{accept:{defaultValue:null,description:'Configuration for the "accept" action.',name:"accept",required:!0,type:{name:"PromptOptionProps"}},cancel:{defaultValue:null,description:'Configuration for the "cancel" action.',name:"cancel",required:!0,type:{name:"PromptOptionProps"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Prompt/index.tsx#Prompt"]={docgenInfo:ve.__docgenInfo,name:"Prompt",path:"src/components/Prompt/index.tsx#Prompt"})}catch{}var mn=globalThis&&globalThis.__spreadArray||function(t,e,o){if(o||arguments.length===2)for(var n=0,r=e.length,a;n<r;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))};function gn(t,e,o){var n=t.length-e.length,r=Array.from(e);if(n===0)return t.apply(void 0,r);if(n===1){var a=function(c){return t.apply(void 0,mn([c],r,!1))};return(o||t.lazy)&&(a.lazy=o||t.lazy,a.lazyArgs=e),a}throw new Error("Wrong number of arguments")}function ct(){return gn(yn,arguments)}function yn(t,e){var o=new Set(e);return Object.entries(t).reduce(function(n,r){var a=r[0],c=r[1];return o.has(a)||(n[a]=c),n},{})}var Pt={exports:{}};(function(t,e){(function(o,n){t.exports=n()})(wt,function(){var o=1e3,n=6e4,r=36e5,a="millisecond",c="second",u="minute",d="hour",f="day",_="week",v="month",b="quarter",$="year",T="date",R="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,D={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},q=function(y,p,s){var h=String(y);return!h||h.length>=p?y:""+Array(p+1-h.length).join(s)+y},H={s:q,z:function(y){var p=-y.utcOffset(),s=Math.abs(p),h=Math.floor(s/60),l=s%60;return(p<=0?"+":"-")+q(h,2,"0")+":"+q(l,2,"0")},m:function y(p,s){if(p.date()<s.date())return-y(s,p);var h=12*(s.year()-p.year())+(s.month()-p.month()),l=p.clone().add(h,v),g=s-l<0,m=p.clone().add(h+(g?-1:1),v);return+(-(h+(s-l)/(g?l-m:m-l))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:v,y:$,w:_,d:f,D:T,h:d,m:u,s:c,ms:a,Q:b}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},B="en",P={};P[B]=D;var ee=function(y){return y instanceof fe},F=function y(p,s,h){var l;if(!p)return B;if(typeof p=="string"){var g=p.toLowerCase();P[g]&&(l=g),s&&(P[g]=s,l=g);var m=p.split("-");if(!l&&m.length>1)return y(m[0])}else{var C=p.name;P[C]=p,l=C}return!h&&l&&(B=l),l||!h&&B},M=function(y,p){if(ee(y))return y.clone();var s=typeof p=="object"?p:{};return s.date=y,s.args=arguments,new fe(s)},O=H;O.l=F,O.i=ee,O.w=function(y,p){return M(y,{locale:p.$L,utc:p.$u,x:p.$x,$offset:p.$offset})};var fe=function(){function y(s){this.$L=F(s.locale,null,!0),this.parse(s)}var p=y.prototype;return p.parse=function(s){this.$d=function(h){var l=h.date,g=h.utc;if(l===null)return new Date(NaN);if(O.u(l))return new Date;if(l instanceof Date)return new Date(l);if(typeof l=="string"&&!/Z$/i.test(l)){var m=l.match(E);if(m){var C=m[2]-1||0,A=(m[7]||"0").substring(0,3);return g?new Date(Date.UTC(m[1],C,m[3]||1,m[4]||0,m[5]||0,m[6]||0,A)):new Date(m[1],C,m[3]||1,m[4]||0,m[5]||0,m[6]||0,A)}}return new Date(l)}(s),this.$x=s.x||{},this.init()},p.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},p.$utils=function(){return O},p.isValid=function(){return this.$d.toString()!==R},p.isSame=function(s,h){var l=M(s);return this.startOf(h)<=l&&l<=this.endOf(h)},p.isAfter=function(s,h){return M(s)<this.startOf(h)},p.isBefore=function(s,h){return this.endOf(h)<M(s)},p.$g=function(s,h,l){return O.u(s)?this[h]:this.set(l,s)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(s,h){var l=this,g=!!O.u(h)||h,m=O.p(s),C=function(oe,L){var K=O.w(l.$u?Date.UTC(l.$y,L,oe):new Date(l.$y,L,oe),l);return g?K:K.endOf(f)},A=function(oe,L){return O.w(l.toDate()[oe].apply(l.toDate("s"),(g?[0,0,0,0]:[23,59,59,999]).slice(L)),l)},I=this.$W,k=this.$M,W=this.$D,V="set"+(this.$u?"UTC":"");switch(m){case $:return g?C(1,0):C(31,11);case v:return g?C(1,k):C(0,k+1);case _:var se=this.$locale().weekStart||0,ce=(I<se?I+7:I)-se;return C(g?W-ce:W+(6-ce),k);case f:case T:return A(V+"Hours",0);case d:return A(V+"Minutes",1);case u:return A(V+"Seconds",2);case c:return A(V+"Milliseconds",3);default:return this.clone()}},p.endOf=function(s){return this.startOf(s,!1)},p.$set=function(s,h){var l,g=O.p(s),m="set"+(this.$u?"UTC":""),C=(l={},l[f]=m+"Date",l[T]=m+"Date",l[v]=m+"Month",l[$]=m+"FullYear",l[d]=m+"Hours",l[u]=m+"Minutes",l[c]=m+"Seconds",l[a]=m+"Milliseconds",l)[g],A=g===f?this.$D+(h-this.$W):h;if(g===v||g===$){var I=this.clone().set(T,1);I.$d[C](A),I.init(),this.$d=I.set(T,Math.min(this.$D,I.daysInMonth())).$d}else C&&this.$d[C](A);return this.init(),this},p.set=function(s,h){return this.clone().$set(s,h)},p.get=function(s){return this[O.p(s)]()},p.add=function(s,h){var l,g=this;s=Number(s);var m=O.p(h),C=function(k){var W=M(g);return O.w(W.date(W.date()+Math.round(k*s)),g)};if(m===v)return this.set(v,this.$M+s);if(m===$)return this.set($,this.$y+s);if(m===f)return C(1);if(m===_)return C(7);var A=(l={},l[u]=n,l[d]=r,l[c]=o,l)[m]||1,I=this.$d.getTime()+s*A;return O.w(I,this)},p.subtract=function(s,h){return this.add(-1*s,h)},p.format=function(s){var h=this,l=this.$locale();if(!this.isValid())return l.invalidDate||R;var g=s||"YYYY-MM-DDTHH:mm:ssZ",m=O.z(this),C=this.$H,A=this.$m,I=this.$M,k=l.weekdays,W=l.months,V=function(L,K,Le,pe){return L&&(L[K]||L(h,g))||Le[K].slice(0,pe)},se=function(L){return O.s(C%12||12,L,"0")},ce=l.meridiem||function(L,K,Le){var pe=L<12?"AM":"PM";return Le?pe.toLowerCase():pe},oe={YY:String(this.$y).slice(-2),YYYY:this.$y,M:I+1,MM:O.s(I+1,2,"0"),MMM:V(l.monthsShort,I,W,3),MMMM:V(W,I),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:V(l.weekdaysMin,this.$W,k,2),ddd:V(l.weekdaysShort,this.$W,k,3),dddd:k[this.$W],H:String(C),HH:O.s(C,2,"0"),h:se(1),hh:se(2),a:ce(C,A,!0),A:ce(C,A,!1),m:String(A),mm:O.s(A,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:m};return g.replace(N,function(L,K){return K||oe[L]||m.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(s,h,l){var g,m=O.p(h),C=M(s),A=(C.utcOffset()-this.utcOffset())*n,I=this-C,k=O.m(this,C);return k=(g={},g[$]=k/12,g[v]=k,g[b]=k/3,g[_]=(I-A)/6048e5,g[f]=(I-A)/864e5,g[d]=I/r,g[u]=I/n,g[c]=I/o,g)[m]||I,l?k:O.a(k)},p.daysInMonth=function(){return this.endOf(v).$D},p.$locale=function(){return P[this.$L]},p.locale=function(s,h){if(!s)return this.$L;var l=this.clone(),g=F(s,h,!0);return g&&(l.$L=g),l},p.clone=function(){return O.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},y}(),it=fe.prototype;return M.prototype=it,[["$ms",a],["$s",c],["$m",u],["$H",d],["$W",f],["$M",v],["$y",$],["$D",T]].forEach(function(y){it[y[1]]=function(p){return this.$g(p,y[0],y[1])}}),M.extend=function(y,p){return y.$i||(y(p,fe,M),y.$i=!0),M},M.locale=F,M.isDayjs=ee,M.unix=function(y){return M(1e3*y)},M.en=P[B],M.Ls=P,M.p={},M})})(Pt);const Re=Pt.exports;var Lt={exports:{}};(function(t,e){(function(o,n){t.exports=n()})(wt,function(){return function(o,n,r){o=o||{};var a=n.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function u(f,_,v,b){return a.fromToBase(f,_,v,b)}r.en.relativeTime=c,a.fromToBase=function(f,_,v,b,$){for(var T,R,E,N=v.$locale().relativeTime||c,D=o.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],q=D.length,H=0;H<q;H+=1){var B=D[H];B.d&&(T=b?r(f).diff(v,B.d,!0):v.diff(f,B.d,!0));var P=(o.rounding||Math.round)(Math.abs(T));if(E=T>0,P<=B.r||!B.r){P<=1&&H>0&&(B=D[H-1]);var ee=N[B.l];$&&(P=$(""+P)),R=typeof ee=="string"?ee.replace("%d",P):ee(P,_,B.l,E);break}}if(_)return R;var F=E?N.future:N.past;return typeof F=="function"?F(R):F.replace("%s",R)},a.to=function(f,_){return u(f,_,this,!0)},a.from=function(f,_){return u(f,_,this)};var d=function(f){return f.$u?r.utc():r()};a.toNow=function(f){return this.to(d(this),f)},a.fromNow=function(f){return this.from(d(this),f)}}})})(Lt);const _n=Lt.exports;un(()=>import("./de.1edd0643.js").then(t=>t.d),["assets/de.1edd0643.js","assets/iframe.d81f7bc1.js"]);Re.extend(_n);Re.locale("de");const vn=t=>w.exports.useMemo(()=>{if(!t)return null;const e=Re(t).locale("de"),o=Re();switch(!0){case o.isSame(e,"day"):return"Heute";case o.subtract(1,"day").isSame(e,"day"):return"Gestern";default:return e.fromNow()}},[t]),Nt=(t=[])=>{const{scrollToBottom:e}=w.exports.useContext(an);w.exports.useLayoutEffect(()=>{e()},t)},wn=(t,e=[])=>{const o=w.exports.useRef(!1);w.exports.useEffect(()=>{if(o.current)return t();o.current=!0},e)},je=Symbol("@ts-pattern/matcher"),lt="@ts-pattern/anonymous-select-key",ut=t=>Boolean(t&&typeof t=="object"),Ne=t=>t&&!!t[je],le=(t,e,o)=>{if(ut(t)){if(Ne(t)){const n=t[je](),{matched:r,selections:a}=n.match(e);return r&&a&&Object.keys(a).forEach(c=>o(c,a[c])),r}if(!ut(e))return!1;if(Array.isArray(t))return!!Array.isArray(e)&&t.length===e.length&&t.every((n,r)=>le(n,e[r],o));if(t instanceof Map)return e instanceof Map&&Array.from(t.keys()).every(n=>le(t.get(n),e.get(n),o));if(t instanceof Set){if(!(e instanceof Set))return!1;if(t.size===0)return e.size===0;if(t.size===1){const[n]=Array.from(t.values());return Ne(n)?Array.from(e.values()).every(r=>le(n,r,o)):e.has(n)}return Array.from(t.values()).every(n=>e.has(n))}return Object.keys(t).every(n=>{const r=t[n];return(n in e||Ne(a=r)&&a[je]().matcherType==="optional")&&le(r,e[n],o);var a})}return Object.is(e,t)},Ht=t=>new ue(t,[]);class ue{constructor(e,o){this.value=void 0,this.cases=void 0,this.value=e,this.cases=o}with(...e){const o=e[e.length-1],n=[e[0]],r=[];return e.length===3&&typeof e[1]=="function"?(n.push(e[0]),r.push(e[1])):e.length>2&&n.push(...e.slice(1,e.length-1)),new ue(this.value,this.cases.concat([{match:a=>{let c={};const u=Boolean(n.some(d=>le(d,a,(f,_)=>{c[f]=_}))&&r.every(d=>d(a)));return{matched:u,value:u&&Object.keys(c).length?lt in c?c[lt]:c:a}},handler:o}]))}when(e,o){return new ue(this.value,this.cases.concat([{match:n=>({matched:Boolean(e(n)),value:n}),handler:o}]))}otherwise(e){return new ue(this.value,this.cases.concat([{match:o=>({matched:!0,value:o}),handler:e}])).run()}exhaustive(){return this.run()}run(){let e,o=this.value;for(let n=0;n<this.cases.length;n++){const r=this.cases[n],a=r.match(this.value);if(a.matched){o=a.value,e=r.handler;break}}if(!e){let n;try{n=JSON.stringify(this.value)}catch{n=this.value}throw new Error(`Pattern matching error: no pattern matches value ${n}`)}return e(o,this.value)}}const xn=(t=ze)=>({type:"indicator",messageDelay:t}),Sn=({messages:t,isLast:e})=>{const o=w.exports.useRef(e&&!!t.length),[n,r]=w.exports.useState(!o.current),[a,c]=w.exports.useState(o.current),[u,d]=w.exports.useState(o.current?[]:t),f=w.exports.useCallback(()=>{r(!0),c(!1)},[]);return w.exports.useEffect(()=>{if(!o)return;const _=t.flatMap(T=>[xn(T.delay),{type:"message",message:T}]);let v;const b=(T,R)=>{if(R===0){T();return}v=setTimeout(()=>{T()},R)},$=()=>{if(!o.current)return;const T=_.shift();if(!T){f();return}Ht(T).with({type:"message"},({message:R})=>{c(!1),d(E=>[...E,R]),b($,ze)}).with({type:"indicator"},({messageDelay:R=ze})=>{c(!0),b($,R)}).exhaustive()};return $(),()=>{clearTimeout(v)}},[]),wn(()=>{e||(o.current=!1,f(),d(t))},[e]),{complete:n,showIndicator:a,visibleMessages:u}},ae=Y(U.SYSTEM_RESPONSE),Vt=S(ae("div","actions"),{display:"flex",flexWrap:"wrap",marginBottom:8,padding:"0 $5 0 54px",[`& ${Q.Container}`]:{height:"unset",paddingTop:7,paddingBottom:7,marginTop:8,marginRight:8,whiteSpace:"normal",textAlign:"start"}}),zt=S(ae("span","controls"),{position:"relative"}),nt=S(ae("div"),{display:"flex",[`& ${J.Container}`]:{visibility:"hidden",alignSelf:"flex-end",margin:"0 8px 4px 0"},[`& ${ne.Container}`]:{alignSelf:"center",whiteSpace:"nowrap",marginLeft:8,opacity:"0%",trans:["opacity"]},[`&:hover ${ne.Container}`]:{opacity:"100%"},variants:{withImage:{true:{[`& ${J.Container}`]:{visibility:"visible"}}},scrollable:{true:{overflowX:"scroll",flexShrink:0,scrollbarWidth:"none","-ms-overflow-style":"none",["&::-webkit-scrollbar"]:{display:"none"}}},center:{true:{alignItems:"center"}}}}),bn=S(ae(nt,"message")),$n=S(ae(nt,"indicator")),jt=S(ae("div","list"),{display:"flex",flexDirection:"column",flexShrink:0,[`& ${Ge.Container}`]:{marginBottom:"$1",maxWidth:248,"&:last-of-type":{marginBottom:0}}}),xe=({avatar:t})=>x($n,{withImage:!0,center:!0,children:[i(J,{avatar:t}),i(dn,{})]}),Yt=xe;try{xe.displayName="Indicator",xe.__docgenInfo={description:"",displayName:"Indicator",props:{avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/SystemResponse/Indicator.tsx#Indicator"]={docgenInfo:xe.__docgenInfo,name:"Indicator",path:"src/components/SystemResponse/Indicator.tsx#Indicator"})}catch{}const me=42,Be=12,Ut=Y(U.CAROUSEL),Cn=S(Ut("span","button"),{position:"absolute",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"$round",trans:["background-color","box-shadow","opacity"],height:me,width:me,cursor:"pointer",backgroundColor:"$white",color:"$black",boxShadow:"0 1px 3px 1px $shadow1, 0 0 0 1px $shadow3, 0 2px 4px -3px $shadow12, 0 5px 8px -8px $shadow12",border:"none",[`& ${X.Frame}`]:{height:"$xxs",width:"$xxs",color:"rgba(0,0,0,0.6)",trans:["color"]},["&:hover"]:{boxShadow:"0 1px 4px 1px $shadow4, 0 0 0 1px $shadow4, 0 2px 4px -3px $shadow12, 0 5px 8px -8px $shadow12"},["&:active"]:{boxShadow:"0 1px 4px 1px $shadow8, 0 0 0 1px $shadow4, 0 2px 4px -3px $shadow12, 0 5px 8px -8px $shadow12"},[`
      &:hover ${X.Frame},
      &:active ${X.Frame}
    `]:{color:"rgba(0,0,0,0.8)"},variants:{visible:{true:{opacity:1,pointerEvents:"auto"},false:{opacity:0,pointerEvents:"none"}},alignment:{left:{left:48-me/2},right:{right:70-me/2,[`& ${X.Frame}`]:{transform:"scaleX(-1)"}}}}}),qt=S(Ut("div"),{display:"flex",whiteSpace:"nowrap",[`& ${Xe.Container}`]:{height:"fit-content",flexShrink:0,marginLeft:Be,"&:first-of-type":{marginLeft:0}}}),de=w.exports.forwardRef(({onClick:t,alignment:e,visible:o,containerEl:n},r)=>i(Cn,{ref:r,alignment:e,visible:o,css:{transform:`translateY(calc(${n.clientHeight/2}px - 50%))`},onClick:t,children:i(X,{svg:"largeArrowLeft"})}));try{de.displayName="CarouselButton",de.__docgenInfo={description:"A button used to scroll to the previous or next Card in a Carousel.",displayName:"CarouselButton",props:{alignment:{defaultValue:null,description:"The end of the container where the button will be rendered.",name:"alignment",required:!0,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},visible:{defaultValue:null,description:"If true then the button will be visible, otherwise hidden.",name:"visible",required:!0,type:{name:"boolean"}},containerEl:{defaultValue:null,description:"The buttons will be centered vertically based on the height of this element.",name:"containerEl",required:!0,type:{name:"HTMLElement"}},onClick:{defaultValue:null,description:"A click handler for the button.",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Carousel/CarouselButton.tsx#CarouselButton"]={docgenInfo:de.__docgenInfo,name:"CarouselButton",path:"src/components/Carousel/CarouselButton.tsx#CarouselButton"})}catch{}const ot=fn+2,Ft=ot/3,On=ot+Be+Ft,Ae=ot+Be,dt=(t,e)=>()=>{const o=t==null?void 0:t.current;if(!o)return;const n=e(o);o.scrollTo({left:n&&n*Ae,behavior:"smooth"})},Tn=(t,e,o)=>{const[n,r]=w.exports.useState(!1),[a,c]=w.exports.useState(!1),u=w.exports.useRef(null),d=w.exports.useRef(null),f=o.length>1;return w.exports.useEffect(()=>{!(e!=null&&e.current)||!f||c(!0)},[]),w.exports.useEffect(()=>{const _=t==null?void 0:t.current;if(!_||!f)return;const v=Ae*o.length-Be,b=()=>{const{scrollLeft:$}=_;r($>=Ft),c($<=v-On)};return _.addEventListener("scroll",b),()=>{_.removeEventListener("scroll",b)}},[]),{previousButtonRef:u,nextButtonRef:d,showPreviousButton:n,showNextButton:a}},Se=({cards:t,containerRef:e,controlsRef:o})=>{const{previousButtonRef:n,nextButtonRef:r,showPreviousButton:a,showNextButton:c}=Tn(e,o,t),u=e==null?void 0:e.current,d=o==null?void 0:o.current,f=u&&d,_=dt(e,b=>Math.ceil(b.scrollLeft/Ae)-1),v=dt(e,b=>Math.floor(b.scrollLeft/Ae)+1);return x(re,{children:[i(qt,{children:t.map((b,$)=>w.exports.createElement(Xe,{...b,key:$}))}),f&&xt.exports.createPortal(x(re,{children:[i(de,{ref:n,alignment:"left",visible:a,containerEl:u,onClick:_}),i(de,{ref:r,alignment:"right",visible:c,containerEl:u,onClick:v})]}),d)]})},In=Object.assign(Se,{Container:qt});try{Se.displayName="Carousel",Se.__docgenInfo={description:"A carousel of {@link Card} components that can be scrolled natively or with buttons.",displayName:"Carousel",props:{cards:{defaultValue:null,description:"A list of props objects which will be passed to {@link Card} components.",name:"cards",required:!0,type:{name:"CardProps[]"}},containerRef:{defaultValue:null,description:"A reference to the HTML element of a parent horizontal scrolling container.",name:"containerRef",required:!1,type:{name:"RefObject<HTMLDivElement>"}},controlsRef:{defaultValue:null,description:"A reference to an HTML element to anchor the carousel controls.",name:"controlsRef",required:!1,type:{name:"RefObject<HTMLSpanElement>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Carousel/index.tsx#Carousel"]={docgenInfo:Se.__docgenInfo,name:"Carousel",path:"src/components/Carousel/index.tsx#Carousel"})}catch{}function Ye(t){return Ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(t)}function Rn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ft(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function An(t,e,o){return e&&ft(t.prototype,e),o&&ft(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ue(t,e)}function Ue(t,e){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ue(t,e)}function En(t){var e=Bn();return function(){var n=Me(t),r;if(e){var a=Me(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return kn(this,r)}}function kn(t,e){if(e&&(Ye(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dn(t)}function Dn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Me(t){return Me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},Me(t)}function Pn(t,e){if(!document.head.querySelector("#"+t)){var o=document.createElement("style");o.textContent=e,o.type="text/css",o.id=t,document.head.appendChild(o)}}var Ln=function(t){Mn(o,t);var e=En(o);function o(){return Rn(this,o),e.apply(this,arguments)}return An(o,[{key:"componentDidMount",value:function(){Pn(this.props.name,this.props.css)}},{key:"componentWillUnmount",value:function(){var r=document.getElementById(this.props.name);r.parentNode.removeChild(r)}},{key:"render",value:function(){return null}}]),o}(w.exports.Component),Nn=function(e){var o=e.imageBackgroundColor;return`
  body {
    overflow: hidden;
  }

  .__react_modal_image__modal_container {
    position: fixed;
    z-index: 5000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    touch-action: none;
    overflow: hidden;
  }

  .__react_modal_image__modal_content {
    position: relative;
    height: 100%;
    width: 100%;
  }

  .__react_modal_image__modal_content img, 
  .__react_modal_image__modal_content svg {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%, -50%, 0);
    -webkit-transform: translate3d(-50%, -50%, 0);
    -ms-transform: translate3d(-50%, -50%, 0);
    overflow: hidden;
  }

  .__react_modal_image__medium_img {
    max-width: 98%;
    max-height: 98%;
    background-color: `.concat(o,`;
  }

  .__react_modal_image__large_img {
    cursor: move;
    background-color: `).concat(o,`
  }

  .__react_modal_image__icon_menu a {
    display: inline-block;
    font-size: 40px;
    cursor: pointer;
    line-height: 40px;
    box-sizing: border-box;
    border: none;
    padding: 0px 5px 0px 5px;
    margin-left: 10px;
    color: white;
    background-color: rgba(0, 0, 0, 0);
  }

  .__react_modal_image__icon_menu {
    display: inline-block;
    float: right;
  }

  .__react_modal_image__caption {
    display: inline-block;
    color: white;
    font-size: 120%;
    padding: 10px;
    margin: 0;
  }

  .__react_modal_image__header {
    position: absolute;
    top: 0;
    width: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    overflow: hidden;
  }
`)},Hn=function(){return x("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[i("path",{d:"M0 0h24v24H0z",fill:"none"}),i("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})]})},Vn=function(){return x("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[i("path",{d:"M0 0h24v24H0z",fill:"none"}),i("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})]})},zn=function(){return x("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[i("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),i("path",{d:"M0 0h24v24H0z",fill:"none"})]})},jn=function(){return x("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[i("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),i("path",{d:"M0 0h24v24H0z",fill:"none"})]})},Yn=function(){return x("svg",{fill:"#ffffff",height:"48",viewBox:"0 0 24 24",width:"48",xmlns:"http://www.w3.org/2000/svg",children:[i("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"}),i("path",{d:"M0 0h24v24H0V0z",fill:"none"})]})},Un=function(){return x("svg",{fill:"#ffffff",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[i("path",{fill:"none",d:"M0 0h24v24H0V0zm0 0h24v24H0V0z"}),i("path",{d:"M7.47 21.49C4.2 19.93 1.86 16.76 1.5 13H0c.51 6.16 5.66 11 11.95 11 .23 0 .44-.02.66-.03L8.8 20.15l-1.33 1.34zM12.05 0c-.23 0-.44.02-.66.04l3.81 3.81 1.33-1.33C19.8 4.07 22.14 7.24 22.5 11H24c-.51-6.16-5.66-11-11.95-11zM16 14h2V8c0-1.11-.9-2-2-2h-6v2h6v6zm-8 2V4H6v2H4v2h2v8c0 1.1.89 2 2 2h8v2h2v-2h2v-2H8z"})]})};function qn(t){return document.location.hostname!==new URL(t,document.location).hostname}var Fn=function(e){return function(o){!qn(e)||(o.preventDefault(),fetch(e).then(function(n){return n.ok||console.error("Failed to download image, HTTP status "+n.status+" from "+e),n.blob().then(function(r){var a=document.createElement("a");a.setAttribute("download",e.split("/").pop()),a.href=URL.createObjectURL(r),a.click()})}).catch(function(n){console.error(n),console.error("Failed to download image from "+e)}))}},Wn=function(e){var o=e.image,n=e.alt,r=e.zoomed,a=e.toggleZoom,c=e.toggleRotate,u=e.onClose,d=e.enableDownload,f=e.enableZoom,_=e.enableRotate;return x("div",{className:"__react_modal_image__header",children:[x("span",{className:"__react_modal_image__icon_menu",children:[d&&i("a",{href:o,download:!0,onClick:Fn(o),children:i(zn,{})}),f&&i("a",{onClick:a,children:r?i(Vn,{}):i(Hn,{})}),_&&i("a",{onClick:c,children:i(Un,{})}),i("a",{onClick:u,children:i(jn,{})})]}),n&&i("span",{className:"__react_modal_image__caption",children:n})]})};function qe(t){return qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(t)}function Kn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zn(t,e,o){return e&&pt(t.prototype,e),o&&pt(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fe(t,e)}function Fe(t,e){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Fe(t,e)}function Xn(t){var e=Qn();return function(){var n=Ee(t),r;if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Jn(this,r)}}function Jn(t,e){if(e&&(qe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return be(t)}function be(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ee(t){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},Ee(t)}function He(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var ht=function(t){Gn(o,t);var e=Xn(o);function o(){var n;Kn(this,o);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=e.call.apply(e,[this].concat(a)),He(be(n),"state",{loading:!0}),He(be(n),"handleOnLoad",function(){n.setState({loading:!1})}),He(be(n),"handleOnContextMenu",function(u){!n.props.contextMenu&&u.preventDefault()}),n}return Zn(o,[{key:"render",value:function(){var r=this.props,a=r.id,c=r.className,u=r.src,d=r.style,f=r.handleDoubleClick;return x("div",{children:[this.state.loading&&i(Yn,{}),i("img",{id:a,className:c,src:u,style:d,onLoad:this.handleOnLoad,onDoubleClick:f,onContextMenu:this.handleOnContextMenu})]})}}]),o}(w.exports.Component);function We(t){return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(t)}function eo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function to(t,e,o){return e&&mt(t.prototype,e),o&&mt(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function no(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ke(t,e)}function Ke(t,e){return Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ke(t,e)}function oo(t){var e=ao();return function(){var n=ke(t),r;if(e){var a=ke(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ro(this,r)}}function ro(t,e){if(e&&(We(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(t)}function j(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ao(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ke(t){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},ke(t)}function Z(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var io=function(t){no(o,t);var e=oo(o);function o(){var n;eo(this,o);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=e.call.apply(e,[this].concat(a)),Z(j(n),"state",{move:{x:0,y:0},moveStart:void 0,zoomed:!1,rotationDeg:0}),Z(j(n),"handleKeyDown",function(u){(u.keyCode===27||u.keyCode===13)&&n.props.onClose()}),Z(j(n),"getCoordinatesIfOverImg",function(u){var d=u.changedTouches?u.changedTouches[0]:u;if(d.target.id==="react-modal-image-img"){var f=n.contentEl.getBoundingClientRect(),_=d.clientX-f.left,v=d.clientY-f.top;return{x:_,y:v}}}),Z(j(n),"handleMouseDownOrTouchStart",function(u){if(u.preventDefault(),!(u.touches&&u.touches.length>1)){var d=n.getCoordinatesIfOverImg(u);d||n.props.onClose(),n.state.zoomed&&n.setState(function(f){return{moveStart:{x:d.x-f.move.x,y:d.y-f.move.y}}})}}),Z(j(n),"handleMouseMoveOrTouchMove",function(u){if(u.preventDefault(),!(!n.state.zoomed||!n.state.moveStart)&&!(u.touches&&u.touches.length>1)){var d=n.getCoordinatesIfOverImg(u);!d||n.setState(function(f){return{move:{x:d.x-f.moveStart.x,y:d.y-f.moveStart.y}}})}}),Z(j(n),"handleMouseUpOrTouchEnd",function(u){n.setState({moveStart:void 0})}),Z(j(n),"toggleZoom",function(u){u.preventDefault(),n.setState(function(d){return{zoomed:!d.zoomed,move:d.zoomed?{x:0,y:0}:d.move}})}),Z(j(n),"toggleRotate",function(u){u.preventDefault();var d=n.state.rotationDeg;if(d===360){n.setState({rotationDeg:90});return}n.setState(function(f){return{rotationDeg:f.rotationDeg+=90}})}),n}return to(o,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"render",value:function(){var r=this,a=this.props,c=a.medium,u=a.large,d=a.alt,f=a.onClose,_=a.hideDownload,v=a.hideZoom,b=a.showRotate,$=a.imageBackgroundColor,T=$===void 0?"black":$,R=this.state,E=R.move,N=R.zoomed,D=R.rotationDeg;return x("div",{children:[i(Ln,{name:"__react_modal_image__lightbox",css:Nn({imageBackgroundColor:T})}),x("div",{className:"__react_modal_image__modal_container",children:[x("div",{className:"__react_modal_image__modal_content",onMouseDown:this.handleMouseDownOrTouchStart,onMouseUp:this.handleMouseUpOrTouchEnd,onMouseMove:this.handleMouseMoveOrTouchMove,onTouchStart:this.handleMouseDownOrTouchStart,onTouchEnd:this.handleMouseUpOrTouchEnd,onTouchMove:this.handleMouseMoveOrTouchMove,ref:function(H){r.contentEl=H},children:[N&&i(ht,{id:"react-modal-image-img",className:"__react_modal_image__large_img",src:u||c,style:{transform:"translate3d(-50%, -50%, 0) translate3d(".concat(E.x,"px, ").concat(E.y,"px, 0) rotate(").concat(D,"deg)"),WebkitTransform:"translate3d(-50%, -50%, 0) translate3d(".concat(E.x,"px, ").concat(E.y,"px, 0) rotate(").concat(D,"deg)"),MsTransform:"translate3d(-50%, -50%, 0) translate3d(".concat(E.x,"px, ").concat(E.y,"px, 0) rotate(").concat(D,"deg)")},handleDoubleClick:this.toggleZoom}),!N&&i(ht,{id:"react-modal-image-img",className:"__react_modal_image__medium_img",src:c||u,handleDoubleClick:this.toggleZoom,contextMenu:!c,style:{transform:"translate3d(-50%, -50%, 0) rotate(".concat(D,"deg)"),WebkitTransform:"translate3d(-50%, -50%, 0) rotate(".concat(D,"deg)"),MsTransform:"translate3d(-50%, -50%, 0) rotate(".concat(D,"deg)")}})]}),i(Wn,{image:u||c,alt:d,zoomed:N,toggleZoom:this.toggleZoom,toggleRotate:this.toggleRotate,onClose:f,enableDownload:!_,enableZoom:!v,enableRotate:!!b})]})]})}}]),o}(w.exports.Component);const $e=({url:t,caption:e})=>{const[o,n]=w.exports.useState(!1),r={cursor:"pointer"},a=()=>{n(!0)},c=()=>{n(!1)};return x(re,{children:[o&&xt.exports.createPortal(i(io,{large:t,alt:e,onClose:c}),document.body),i(St,{image:t,onClick:a,style:r})]})};try{$e.displayName="CustomImage",$e.__docgenInfo={description:"",displayName:"CustomImage",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},caption:{defaultValue:null,description:"",name:"caption",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/CustomImage/index.tsx#CustomImage"]={docgenInfo:$e.__docgenInfo,name:"CustomImage",path:"src/components/CustomImage/index.tsx#CustomImage"})}catch{}const Pe=Y(U.FEEDBACK),so=S(Pe("div"),{display:"inline-flex",alignItems:"center",boxSizing:"border-box",marginTop:"8.5px"}),co=S(Pe("div","description"),{color:"$darkGrey",marginRight:4,lineHeight:17,typo:{size:12}}),lo=S(Pe("div","buttons"),{display:"flex",gap:4}),gt=S(Pe("button","button"),{display:"inline-flex",backgroundColor:"transparent",border:0,borderRadius:"$round",width:24,height:24,padding:0,margin:0,cursor:"pointer",variants:{active:{false:{color:"rgb(115 115 118 / 85%)","&:hover":{color:"rgb(115 115 118 / 100%)"}},true:{color:"$white",backgroundColor:"$primary"}},orientation:{positive:{transform:"none"},negative:{transform:"rotate(180deg)"}}},defaultVariants:{active:!1,orientation:"positive"}}),uo=({question:t="Was this helpful?",onClick:e,...o})=>{const[n,r]=en.useState(null),a=c=>{c!==n&&(e(c),r(c))};return x(so,{...o,children:[i(co,{children:t}),x(lo,{children:[i(gt,{orientation:"positive",active:n===he.POSITIVE,onClick:()=>a(he.POSITIVE),children:i(st,{width:"24px",height:"24px"})}),i(gt,{orientation:"negative",active:n===he.NEGATIVE,onClick:()=>a(he.NEGATIVE),children:i(st,{width:"24px",height:"24px"})})]})]})},fo=()=>{const t=w.exports.useContext(vt);return w.exports.useEffect(()=>{t.setStatus(sn.ENDED)},[]),null};try{end.displayName="end",end.__docgenInfo={description:"",displayName:"end",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/SystemResponse/state/end.tsx#end"]={docgenInfo:end.__docgenInfo,name:"end",path:"src/components/SystemResponse/state/end.tsx#end"})}catch{}const Ce=({avatar:t,feedback:e,timestamp:o,message:n,withImage:r,children:a})=>{const c=w.exports.useRef(null),u=w.exports.useRef(null);return!a&&(n==null?void 0:n.type)===G.END?i(fo,{}):x(re,{children:[i(zt,{ref:u}),x(bn,{ref:c,withImage:r,scrollable:(n==null?void 0:n.type)===G.CAROUSEL,children:[i(J,{avatar:t}),x(jt,{children:[a!=null?a:Ht(n).with({type:G.TEXT},({text:d})=>i(pn,{text:d})).with({type:G.IMAGE},({url:d})=>i(St,{image:d})).with({type:G.CARD},d=>i(Xe,{...ct(d,["type"])})).with({type:G.CAROUSEL},d=>i(In,{...ct(d,["type"]),containerRef:c,controlsRef:u})).with({type:G.CUSTOM_IMAGE},({payload:d})=>i($e,{...d})).otherwise(()=>null),e&&i(uo,{...e})]}),i(ne,{value:o})]})]})},Wt=Ce;try{Ce.displayName="SystemMessage",Ce.__docgenInfo={description:"",displayName:"SystemMessage",props:{avatar:{defaultValue:null,description:"An image URL for an avatar to associate this message with.",name:"avatar",required:!0,type:{name:"string"}},timestamp:{defaultValue:null,description:"A unix timestamp indicating when this message was sent.",name:"timestamp",required:!0,type:{name:"number"}},message:{defaultValue:null,description:"A single message to render with a {@link Message } component.",name:"message",required:!1,type:{name:"MessageProps"}},withImage:{defaultValue:null,description:"If true, renders an avatar next to the message.",name:"withImage",required:!0,type:{name:"boolean"}},feedback:{defaultValue:{value:"false"},description:"If provided, will display {@link Feedback} component.",name:"feedback",required:!1,type:{name:"FeedbackProps"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/SystemResponse/SystemMessage.tsx#SystemMessage"]={docgenInfo:Ce.__docgenInfo,name:"SystemMessage",path:"src/components/SystemResponse/SystemMessage.tsx#SystemMessage"})}catch{}const Oe=({feedback:t,avatar:e,timestamp:o,messages:n,actions:r=[],isLast:a,Message:c=Wt})=>{const u=w.exports.useContext(vt),{showIndicator:d,visibleMessages:f,complete:_}=Sn({messages:n,isLast:a});return Nt([d,_,f.length]),!n.length&&!r.length?null:x(re,{children:[f.map((v,b)=>i(c,{message:v,withImage:!d&&b===f.length-1,feedback:_&&!d&&b===f.length-1?t:void 0,avatar:e,timestamp:o},b)),a&&_&&!!r.length&&i(Vt,{children:r.map(({request:v,name:b},$)=>i(Q,{variant:"secondary",onClick:()=>u==null?void 0:u.interact(v,b),children:b},$))}),d&&i(Yt,{avatar:e})]})},z=Object.assign(Oe,{Message:G,Container:nt,Controls:zt,List:jt,Actions:Vt,Indicator:Yt,SystemMessage:Wt});try{Oe.displayName="SystemResponse",Oe.__docgenInfo={description:"A dynamic component capable of displaying all standard system responses.",displayName:"SystemResponse",props:{avatar:{defaultValue:null,description:"An image URL for an avatar to associate the messages with.",name:"avatar",required:!0,type:{name:"string"}},timestamp:{defaultValue:null,description:"A unix timestamp indicating when the messages were sent.",name:"timestamp",required:!0,type:{name:"number"}},messages:{defaultValue:null,description:"A list of messages that will be rendered as {@link SystemMessage} components.",name:"messages",required:!0,type:{name:"MessageProps[]"}},actions:{defaultValue:{value:"[]"},description:"A list of actions that will be rendered as buttons.",name:"actions",required:!1,type:{name:"ResponseActionProps[]"}},isLast:{defaultValue:null,description:`If true, allows actions to appear after this message.
Only the last system message in a row can show actions.`,name:"isLast",required:!1,type:{name:"boolean"}},feedback:{defaultValue:{value:"false"},description:"If provided, will display {@link Feedback} component under the last message.",name:"feedback",required:!1,type:{name:"FeedbackProps"}},Message:{defaultValue:null,description:"Override the rendering of individual messages.",name:"Message",required:!1,type:{name:"ComponentType<SystemMessageProps>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/SystemResponse/index.tsx#SystemResponse"]={docgenInfo:Oe.__docgenInfo,name:"SystemResponse",path:"src/components/SystemResponse/index.tsx#SystemResponse"})}catch{}const rt=Y(U.USER_RESPONSE),Kt=S(rt("aside","debug"),{typo:{size:"12px",height:"17px"},color:"$darkGrey",marginTop:"$2"}),Zt=S(rt("div"),{display:"flex",flexDirection:"column",flexShrink:0,alignItems:"flex-end",[`& ${Ge.Container}`]:{maxWidth:282},[`& > ${bt.Container}`]:{marginTop:"$1"}}),Gt=S(rt("div","row"),{display:"flex",width:"100%",alignItems:"center",[`& ${ne.Container}`]:{flexGrow:1,marginRight:8,textAlign:"end",opacity:"0%",trans:["opacity"]},[`&:hover ${ne.Container}`]:{opacity:"100%"}}),Te=({message:t,timestamp:e,debug:o})=>{var n,r;return Nt(),x(Zt,{children:[x(Gt,{children:[i(ne,{value:e}),i(Ge,{from:"user",children:t})]}),o&&x(re,{children:[i(Kt,{children:o.message}),o.reason&&i(bt,{label:(n=o.action)==null?void 0:n.label,onClick:(r=o.action)==null?void 0:r.onClick,orientation:"right",children:o.reason})]})]})},te=Object.assign(Te,{Container:Zt,Debug:Kt,Row:Gt});try{Te.displayName="UserResponse",Te.__docgenInfo={description:"A user-sent text response.",displayName:"UserResponse",props:{message:{defaultValue:null,description:"The message text to display.",name:"message",required:!0,type:{name:"string"}},timestamp:{defaultValue:null,description:"A unix timestamp indicating when this response was sent.",name:"timestamp",required:!0,type:{name:"number"}},debug:{defaultValue:null,description:'If provided, adds a caption and optional "debug" message with an action.',name:"debug",required:!1,type:{name:"DebugResponseProps"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/UserResponse/index.tsx#UserResponse"]={docgenInfo:Te.__docgenInfo,name:"UserResponse",path:"src/components/UserResponse/index.tsx#UserResponse"})}catch{}const Ve=10,ie=Y(U.CHAT),De=S(ie("div","overlay"),{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"$shadow12"}),Ze=S(ie("article"),{position:"relative",display:"flex",overflow:"hidden",flexDirection:"column",backgroundColor:"$white",[`& > ${_t}`]:{margin:"auto"},[`& ${Dt.Container}`]:{animation:`${tn} 150ms ease forwards`},[`& ${Mt.Container}`]:{...yt({duration:300,delay:300})},[`& ${De}`]:{opacity:0,pointerEvents:"none",trans:["opacity"]},[`& ${we.Container}`]:{position:"absolute",bottom:0,width:"100%",boxSizing:"border-box",paddingBottom:`calc($3 + ${Ve}px)`,transition:`transform 320ms cubic-bezier(0.45, 1.29, 0.64, 1), ${nn(["box-shadow"],300)}`,transform:`translateY(calc(100% + ${Ve}px))`},variants:{withPrompt:{true:{[`& ${De}`]:{opacity:1,zIndex:2,pointerEvents:"auto"},[`& ${we.Container}`]:{zIndex:3,transform:`translateY(${Ve}px)`}},false:{[`& ${we.Container}`]:{boxShadow:"none"}}}}}),Xt={display:"flex",justifyContent:"center",typo:{size:12},color:"$darkGrey"},at=S(ie("div","status"),{...Xt}),po=S(ie("span","session-time"),{...Xt,paddingBottom:"$3"}),Jt=S(ie("main","dialog"),{display:"flex",flexDirection:"column",height:"100%",overflowY:"scroll",overflowX:"hidden",paddingBottom:"$3",[`
    & ${te.Container},
    & ${z.List},
    & ${z.Actions},
    & ${Tt.Container}
  `]:{...yt({duration:150,delay:0})},[`
    & > ${te.Container},
    & > ${z.Container}
  `]:{padding:"0 $5"},[`& > ${z.Actions}`]:{padding:"0 $5 0 54px"},[`& ${z.Container}`]:{marginBottom:"$1","&:last-of-type":{marginBottom:0}},[`& ${te.Container} + ${te.Container}`]:{marginTop:"$1"},[`
    & ${z.Container} + ${te.Container},
    & ${z.Actions} + ${te.Container},
    & ${te.Container} + ${z.Controls} + ${z.Container}
  `]:{marginTop:"$5"},[`& ${ne.Container}`]:{width:50},[`& ${at}`]:{marginTop:"$3",marginBottom:8}}),Qt=S(ie("div","spacer"),{flexGrow:1}),Ie=({hasEnded:t,title:e,image:o,avatar:n,description:r,startTime:a,isLoading:c,withWatermark:u,onMinimize:d,onEnd:f,onStart:_,onSend:v,children:b})=>{const $=vn(a),T=w.exports.useRef(null),[R,E]=w.exports.useState(!1),N=q=>{t?f==null||f(q):E(!0)},D=()=>E(!1);return c?i(Ze,{children:i(_t,{})}):x(Ze,{withPrompt:R,children:[i(Dt,{title:e,image:o,actions:[{svg:"minus",onClick:d},{svg:"close",onClick:N}]}),i(Jt,{ref:T,children:x(cn,{target:T,children:[i(Tt,{title:e,avatar:n,description:r}),i(Qt,{}),!!$&&i(po,{children:$}),b,t&&i(at,{children:"Der Chat wurde beendet"})]})}),i(Mt,{withWatermark:u,hasEnded:t,onStart:_,onSend:v}),i(De,{}),i(we,{accept:{label:"Chat schlie\xDFen",type:"warn",onClick:ln(f,D)},cancel:{label:"Abbrechen",onClick:D}})]})},Bo=Object.assign(w.exports.memo(Ie),{Container:Ze,Dialog:Jt,Overlay:De,Spacer:Qt,Status:at});try{Ie.displayName="Chat",Ie.__docgenInfo={description:"A full chat dialog with header, footer, overlay and auto-scrolling content.",displayName:"Chat",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Chat/index.tsx#Chat"]={docgenInfo:Ie.__docgenInfo,name:"Chat",path:"src/components/Chat/index.tsx#Chat"})}catch{}export{Tt as A,Bo as C,Mt as F,Dt as H,Ht as K,we as P,z as S,te as U,In as a,Pt as d,ct as o};
//# sourceMappingURL=index.14d284bd.js.map
