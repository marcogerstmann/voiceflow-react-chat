import{a as w,j as i,r as S,F as re,R as tn}from"./jsx-runtime.565f9ff0.js";import{A as J}from"./index.af11c1ec.js";import{t as U,C as q}from"./tag.0fd5c4cf.js";import{s as x,f as nn,a as _t,c as on}from"./animation.bfb468ee.js";import{B as Q}from"./index.df3bf153.js";import{C as rn}from"./index.3d239519.js";import{I as an}from"./index.7a2cd552.js";import{I as X,S as ct}from"./index.521b7c8f.js";import{L as vt}from"./index.6b68b947.js";import{A as sn,D as je,F as he,R as St,S as cn,M as j,a as ln}from"./index.f20dca1b.js";import{c as un}from"./functional.45cfef73.js";import{c as wt,q as dn}from"./iframe.878906e0.js";import{T as fn}from"./index.55ed80b4.js";import{M as Xe}from"./index.c5ef2a1b.js";import{T as ne}from"./index.7c89bfb3.js";import{C as Je,a as pn}from"./index.c8670aa6.js";import{r as xt}from"./index.c5b3353e.js";import{I as bt}from"./index.76194714.js";import{D as hn}from"./index.cfc87294.js";import"./index.484a71f2.js";import{T as $t}from"./index.bf01f2a9.js";const Ct={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},Qe=U(q.ASSISTANT_INFO),et=x(Qe("h2","title"),{...Ct,width:"100%",margin:0,typo:{size:20,weight:"$2",height:"$3"},color:"$black"}),Ot=x(Qe("p","description"),{display:"-webkit-box",margin:0,typo:{},color:"$darkGrey","-webkit-line-clamp":2,"-webkit-box-orient":"vertical",overflow:"hidden",wordBreak:"break-word"}),Tt=x(Qe("div"),{display:"flex",flexDirection:"column",alignItems:"center",padding:"48px 32px",textAlign:"center",[`& ${J.Container}`]:{marginBottom:"$4"},[`& ${et}`]:{marginBottom:8}}),ge=({title:t,description:e,avatar:o})=>w(Tt,{children:[i(J,{size:"large",avatar:o}),i(et,{children:t}),i(Ot,{children:e})]}),It=Object.assign(ge,{Container:Tt,Title:et,Description:Ot});try{ge.displayName="AssistantInfo",ge.__docgenInfo={description:`This component displays introductory information about the assistant.
It will act as a placeholder before the conversation has started.`,displayName:"AssistantInfo",props:{title:{defaultValue:null,description:"The title of the assistant.",name:"title",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"A short description of the assistant to help frame the conversation.",name:"description",required:!0,type:{name:"string"}},avatar:{defaultValue:null,description:"An image URL that identifies the assistant, such as a brand icon.",name:"avatar",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/AssistantInfo/index.tsx#AssistantInfo"]={docgenInfo:ge.__docgenInfo,name:"AssistantInfo",path:"src/components/AssistantInfo/index.tsx#AssistantInfo"})}catch{}const Rt=U(q.FOOTER),At=x(Rt("footer"),{padding:"$3 $4 $4 $4",borderRadius:"$1",[`& ${an.Container}`]:{flex:1},[`& ${Q.Container}`]:{width:"100%"},variants:{withShadow:{true:{boxShadow:"0 12px 48px $shadow16"}},withWatermark:{true:{paddingBottom:"0"}}}}),Mt=x(Rt("aside","watermark"),{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px 0 $3 0",typo:{size:12,height:"17px"},color:"$darkGrey","& a":{marginLeft:"0.5ch",textDecoration:"none",color:"$blue","&:focus":{outline:0}}}),ye=({withWatermark:t,hasEnded:e,onStart:o,onSend:n})=>{const[r,a]=S.exports.useState(""),[c,d]=S.exports.useState(!1);return w(At,{withShadow:!!e,withWatermark:t,children:[e?i(Q,{onClick:o,children:"Neuen Chat beginnen"}):i(rn,{value:r,placeholder:"Nachricht...",autoFocus:!0,onValueChange:a,onSend:async()=>{!r||c||(d(!0),a(""),await(n==null?void 0:n(r)),d(!1))},buffering:c}),t&&w(Mt,{children:["Assistent von",i("a",{target:"_blank",href:"https://www.hi-aichat.com",rel:"noreferrer",children:'"hi ai"'})]})]})},Et=Object.assign(ye,{Container:At,Watermark:Mt});try{ye.displayName="Footer",ye.__docgenInfo={description:"Footer for the chat widget; displays input controls or a prompt to restart the conversation.",displayName:"Footer",props:{withWatermark:{defaultValue:null,description:"If true, shows a watermark indicating that the conversation is powered by Voiceflow.",name:"withWatermark",required:!0,type:{name:"boolean"}},hasEnded:{defaultValue:null,description:`If true, shows a prompt to start a new chat by calling the {@link onStart} handler.
If false, renders controls for the user to write a response.`,name:"hasEnded",required:!1,type:{name:"boolean"}},onStart:{defaultValue:null,description:"A callback to start a new conversation.",name:"onStart",required:!1,type:{name:"() => Promise<void>"}},onSend:{defaultValue:null,description:"A callback to submit a user response.",name:"onSend",required:!1,type:{name:"(message: string) => Promise<void>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Footer/index.tsx#Footer"]={docgenInfo:ye.__docgenInfo,name:"Footer",path:"src/components/Footer/index.tsx#Footer"})}catch{}const tt=U(q.HEADER),nt=x(tt("h1","title"),{...Ct,typo:{size:17,weight:"$2",height:"$2"},color:"rgba(255,255,255,0.95)"}),kt=x(tt(Q.Reset,"button"),{display:"flex",justifyContent:"center",alignItems:"center",height:32,width:32,marginLeft:8,borderRadius:6,background:"none",trans:["background-color"],"&:hover":{backgroundColor:"rgba(255,255,255,0.16)",[`& ${X.Frame}`]:{color:"$white"}},[`& ${X.Frame}`]:{height:"$xxs",width:"$xxs",color:"rgba(255,255,255,0.8)",trans:["color"]}}),Dt=x(tt("header"),{display:"flex",flexShrink:0,alignItems:"center",height:"$lg",padding:"0 $4 0 $5",backgroundColor:"$primary",boxShadow:"0 1px 2px $shadow16",[`& ${J.Container}`]:{height:32,width:32},[`& ${nt}`]:{flex:1,margin:"0 0 0 14px"}}),_e=({title:t,image:e,actions:o=[]})=>w(Dt,{children:[i(J,{avatar:e}),i(nt,{children:t}),o.map(({svg:n,onClick:r},a)=>i(kt,{onClick:r,children:i(X,{svg:n})},a))]}),Bt=Object.assign(_e,{Container:Dt,Title:nt,Button:kt});try{_e.displayName="Header",_e.__docgenInfo={description:"Header for the chat widget with image, title and controls.",displayName:"Header",props:{title:{defaultValue:null,description:"The name of your assistant or title of the conversation.",name:"title",required:!0,type:{name:"string"}},image:{defaultValue:null,description:"An image URL that will be rendered as a small {@link Avatar}.",name:"image",required:!0,type:{name:"string"}},actions:{defaultValue:{value:"[]"},description:"A list of actions that will appear as icon buttons.",name:"actions",required:!1,type:{name:"HeaderActionProps[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Header/index.tsx#Header"]={docgenInfo:_e.__docgenInfo,name:"Header",path:"src/components/Header/index.tsx#Header"})}catch{}const mn=U(q.PROMPT),Pt=x(mn("div"),{padding:"$4 $4 $3 $4",borderRadius:"$1",backgroundColor:"$white",boxShadow:"0 12px 48px 4px $shadow12",[`& ${Q.Container}`]:{width:"100%",marginTop:"$1","&:first-of-type":{marginTop:0}}}),ve=({accept:t,cancel:e})=>w(Pt,{children:[i(Q.Primary,{tabIndex:-1,...t,children:t.label}),i(Q,{type:"subtle",tabIndex:-1,...e,children:e.label})]}),Se=Object.assign(ve,{Container:Pt});try{ve.displayName="Prompt",ve.__docgenInfo={description:"A popup that prompts the user with cancel and accept actions.",displayName:"Prompt",props:{accept:{defaultValue:null,description:'Configuration for the "accept" action.',name:"accept",required:!0,type:{name:"PromptOptionProps"}},cancel:{defaultValue:null,description:'Configuration for the "cancel" action.',name:"cancel",required:!0,type:{name:"PromptOptionProps"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Prompt/index.tsx#Prompt"]={docgenInfo:ve.__docgenInfo,name:"Prompt",path:"src/components/Prompt/index.tsx#Prompt"})}catch{}var gn=globalThis&&globalThis.__spreadArray||function(t,e,o){if(o||arguments.length===2)for(var n=0,r=e.length,a;n<r;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))};function yn(t,e,o){var n=t.length-e.length,r=Array.from(e);if(n===0)return t.apply(void 0,r);if(n===1){var a=function(c){return t.apply(void 0,gn([c],r,!1))};return(o||t.lazy)&&(a.lazy=o||t.lazy,a.lazyArgs=e),a}throw new Error("Wrong number of arguments")}function lt(){return yn(_n,arguments)}function _n(t,e){var o=new Set(e);return Object.entries(t).reduce(function(n,r){var a=r[0],c=r[1];return o.has(a)||(n[a]=c),n},{})}var Lt={exports:{}};(function(t,e){(function(o,n){t.exports=n()})(wt,function(){var o=1e3,n=6e4,r=36e5,a="millisecond",c="second",d="minute",u="hour",f="day",_="week",v="month",b="quarter",$="year",T="date",R="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,D={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},F=function(y,p,s){var h=String(y);return!h||h.length>=p?y:""+Array(p+1-h.length).join(s)+y},H={s:F,z:function(y){var p=-y.utcOffset(),s=Math.abs(p),h=Math.floor(s/60),l=s%60;return(p<=0?"+":"-")+F(h,2,"0")+":"+F(l,2,"0")},m:function y(p,s){if(p.date()<s.date())return-y(s,p);var h=12*(s.year()-p.year())+(s.month()-p.month()),l=p.clone().add(h,v),g=s-l<0,m=p.clone().add(h+(g?-1:1),v);return+(-(h+(s-l)/(g?l-m:m-l))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:v,y:$,w:_,d:f,D:T,h:u,m:d,s:c,ms:a,Q:b}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},B="en",P={};P[B]=D;var ee=function(y){return y instanceof fe},K=function y(p,s,h){var l;if(!p)return B;if(typeof p=="string"){var g=p.toLowerCase();P[g]&&(l=g),s&&(P[g]=s,l=g);var m=p.split("-");if(!l&&m.length>1)return y(m[0])}else{var C=p.name;P[C]=p,l=C}return!h&&l&&(B=l),l||!h&&B},M=function(y,p){if(ee(y))return y.clone();var s=typeof p=="object"?p:{};return s.date=y,s.args=arguments,new fe(s)},O=H;O.l=K,O.i=ee,O.w=function(y,p){return M(y,{locale:p.$L,utc:p.$u,x:p.$x,$offset:p.$offset})};var fe=function(){function y(s){this.$L=K(s.locale,null,!0),this.parse(s)}var p=y.prototype;return p.parse=function(s){this.$d=function(h){var l=h.date,g=h.utc;if(l===null)return new Date(NaN);if(O.u(l))return new Date;if(l instanceof Date)return new Date(l);if(typeof l=="string"&&!/Z$/i.test(l)){var m=l.match(E);if(m){var C=m[2]-1||0,A=(m[7]||"0").substring(0,3);return g?new Date(Date.UTC(m[1],C,m[3]||1,m[4]||0,m[5]||0,m[6]||0,A)):new Date(m[1],C,m[3]||1,m[4]||0,m[5]||0,m[6]||0,A)}}return new Date(l)}(s),this.$x=s.x||{},this.init()},p.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},p.$utils=function(){return O},p.isValid=function(){return this.$d.toString()!==R},p.isSame=function(s,h){var l=M(s);return this.startOf(h)<=l&&l<=this.endOf(h)},p.isAfter=function(s,h){return M(s)<this.startOf(h)},p.isBefore=function(s,h){return this.endOf(h)<M(s)},p.$g=function(s,h,l){return O.u(s)?this[h]:this.set(l,s)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(s,h){var l=this,g=!!O.u(h)||h,m=O.p(s),C=function(oe,L){var Z=O.w(l.$u?Date.UTC(l.$y,L,oe):new Date(l.$y,L,oe),l);return g?Z:Z.endOf(f)},A=function(oe,L){return O.w(l.toDate()[oe].apply(l.toDate("s"),(g?[0,0,0,0]:[23,59,59,999]).slice(L)),l)},I=this.$W,k=this.$M,W=this.$D,V="set"+(this.$u?"UTC":"");switch(m){case $:return g?C(1,0):C(31,11);case v:return g?C(1,k):C(0,k+1);case _:var se=this.$locale().weekStart||0,ce=(I<se?I+7:I)-se;return C(g?W-ce:W+(6-ce),k);case f:case T:return A(V+"Hours",0);case u:return A(V+"Minutes",1);case d:return A(V+"Seconds",2);case c:return A(V+"Milliseconds",3);default:return this.clone()}},p.endOf=function(s){return this.startOf(s,!1)},p.$set=function(s,h){var l,g=O.p(s),m="set"+(this.$u?"UTC":""),C=(l={},l[f]=m+"Date",l[T]=m+"Date",l[v]=m+"Month",l[$]=m+"FullYear",l[u]=m+"Hours",l[d]=m+"Minutes",l[c]=m+"Seconds",l[a]=m+"Milliseconds",l)[g],A=g===f?this.$D+(h-this.$W):h;if(g===v||g===$){var I=this.clone().set(T,1);I.$d[C](A),I.init(),this.$d=I.set(T,Math.min(this.$D,I.daysInMonth())).$d}else C&&this.$d[C](A);return this.init(),this},p.set=function(s,h){return this.clone().$set(s,h)},p.get=function(s){return this[O.p(s)]()},p.add=function(s,h){var l,g=this;s=Number(s);var m=O.p(h),C=function(k){var W=M(g);return O.w(W.date(W.date()+Math.round(k*s)),g)};if(m===v)return this.set(v,this.$M+s);if(m===$)return this.set($,this.$y+s);if(m===f)return C(1);if(m===_)return C(7);var A=(l={},l[d]=n,l[u]=r,l[c]=o,l)[m]||1,I=this.$d.getTime()+s*A;return O.w(I,this)},p.subtract=function(s,h){return this.add(-1*s,h)},p.format=function(s){var h=this,l=this.$locale();if(!this.isValid())return l.invalidDate||R;var g=s||"YYYY-MM-DDTHH:mm:ssZ",m=O.z(this),C=this.$H,A=this.$m,I=this.$M,k=l.weekdays,W=l.months,V=function(L,Z,Ne,pe){return L&&(L[Z]||L(h,g))||Ne[Z].slice(0,pe)},se=function(L){return O.s(C%12||12,L,"0")},ce=l.meridiem||function(L,Z,Ne){var pe=L<12?"AM":"PM";return Ne?pe.toLowerCase():pe},oe={YY:String(this.$y).slice(-2),YYYY:this.$y,M:I+1,MM:O.s(I+1,2,"0"),MMM:V(l.monthsShort,I,W,3),MMMM:V(W,I),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:V(l.weekdaysMin,this.$W,k,2),ddd:V(l.weekdaysShort,this.$W,k,3),dddd:k[this.$W],H:String(C),HH:O.s(C,2,"0"),h:se(1),hh:se(2),a:ce(C,A,!0),A:ce(C,A,!1),m:String(A),mm:O.s(A,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:m};return g.replace(N,function(L,Z){return Z||oe[L]||m.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(s,h,l){var g,m=O.p(h),C=M(s),A=(C.utcOffset()-this.utcOffset())*n,I=this-C,k=O.m(this,C);return k=(g={},g[$]=k/12,g[v]=k,g[b]=k/3,g[_]=(I-A)/6048e5,g[f]=(I-A)/864e5,g[u]=I/r,g[d]=I/n,g[c]=I/o,g)[m]||I,l?k:O.a(k)},p.daysInMonth=function(){return this.endOf(v).$D},p.$locale=function(){return P[this.$L]},p.locale=function(s,h){if(!s)return this.$L;var l=this.clone(),g=K(s,h,!0);return g&&(l.$L=g),l},p.clone=function(){return O.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},y}(),st=fe.prototype;return M.prototype=st,[["$ms",a],["$s",c],["$m",d],["$H",u],["$W",f],["$M",v],["$y",$],["$D",T]].forEach(function(y){st[y[1]]=function(p){return this.$g(p,y[0],y[1])}}),M.extend=function(y,p){return y.$i||(y(p,fe,M),y.$i=!0),M},M.locale=K,M.isDayjs=ee,M.unix=function(y){return M(1e3*y)},M.en=P[B],M.Ls=P,M.p={},M})})(Lt);const Ae=Lt.exports;var Nt={exports:{}};(function(t,e){(function(o,n){t.exports=n()})(wt,function(){return function(o,n,r){o=o||{};var a=n.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(f,_,v,b){return a.fromToBase(f,_,v,b)}r.en.relativeTime=c,a.fromToBase=function(f,_,v,b,$){for(var T,R,E,N=v.$locale().relativeTime||c,D=o.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],F=D.length,H=0;H<F;H+=1){var B=D[H];B.d&&(T=b?r(f).diff(v,B.d,!0):v.diff(f,B.d,!0));var P=(o.rounding||Math.round)(Math.abs(T));if(E=T>0,P<=B.r||!B.r){P<=1&&H>0&&(B=D[H-1]);var ee=N[B.l];$&&(P=$(""+P)),R=typeof ee=="string"?ee.replace("%d",P):ee(P,_,B.l,E);break}}if(_)return R;var K=E?N.future:N.past;return typeof K=="function"?K(R):K.replace("%s",R)},a.to=function(f,_){return d(f,_,this,!0)},a.from=function(f,_){return d(f,_,this)};var u=function(f){return f.$u?r.utc():r()};a.toNow=function(f){return this.to(u(this),f)},a.fromNow=function(f){return this.from(u(this),f)}}})})(Nt);const vn=Nt.exports;dn(()=>import("./de.3eabcc7a.js").then(t=>t.d),["assets/de.3eabcc7a.js","assets/iframe.878906e0.js"]);Ae.extend(vn);Ae.locale("de");const Sn=t=>S.exports.useMemo(()=>{if(!t)return null;const e=Ae(t).locale("de"),o=Ae();switch(!0){case o.isSame(e,"day"):return"Heute";case o.subtract(1,"day").isSame(e,"day"):return"Gestern";default:return e.fromNow()}},[t]),Ht=(t=[])=>{const{scrollToBottom:e}=S.exports.useContext(sn);S.exports.useLayoutEffect(()=>{e()},t)},wn=(t,e=[])=>{const o=S.exports.useRef(!1);S.exports.useEffect(()=>{if(o.current)return t();o.current=!0},e)},Ye=Symbol("@ts-pattern/matcher"),ut="@ts-pattern/anonymous-select-key",dt=t=>Boolean(t&&typeof t=="object"),He=t=>t&&!!t[Ye],le=(t,e,o)=>{if(dt(t)){if(He(t)){const n=t[Ye](),{matched:r,selections:a}=n.match(e);return r&&a&&Object.keys(a).forEach(c=>o(c,a[c])),r}if(!dt(e))return!1;if(Array.isArray(t))return!!Array.isArray(e)&&t.length===e.length&&t.every((n,r)=>le(n,e[r],o));if(t instanceof Map)return e instanceof Map&&Array.from(t.keys()).every(n=>le(t.get(n),e.get(n),o));if(t instanceof Set){if(!(e instanceof Set))return!1;if(t.size===0)return e.size===0;if(t.size===1){const[n]=Array.from(t.values());return He(n)?Array.from(e.values()).every(r=>le(n,r,o)):e.has(n)}return Array.from(t.values()).every(n=>e.has(n))}return Object.keys(t).every(n=>{const r=t[n];return(n in e||He(a=r)&&a[Ye]().matcherType==="optional")&&le(r,e[n],o);var a})}return Object.is(e,t)},Vt=t=>new ue(t,[]);class ue{constructor(e,o){this.value=void 0,this.cases=void 0,this.value=e,this.cases=o}with(...e){const o=e[e.length-1],n=[e[0]],r=[];return e.length===3&&typeof e[1]=="function"?(n.push(e[0]),r.push(e[1])):e.length>2&&n.push(...e.slice(1,e.length-1)),new ue(this.value,this.cases.concat([{match:a=>{let c={};const d=Boolean(n.some(u=>le(u,a,(f,_)=>{c[f]=_}))&&r.every(u=>u(a)));return{matched:d,value:d&&Object.keys(c).length?ut in c?c[ut]:c:a}},handler:o}]))}when(e,o){return new ue(this.value,this.cases.concat([{match:n=>({matched:Boolean(e(n)),value:n}),handler:o}]))}otherwise(e){return new ue(this.value,this.cases.concat([{match:o=>({matched:!0,value:o}),handler:e}])).run()}exhaustive(){return this.run()}run(){let e,o=this.value;for(let n=0;n<this.cases.length;n++){const r=this.cases[n],a=r.match(this.value);if(a.matched){o=a.value,e=r.handler;break}}if(!e){let n;try{n=JSON.stringify(this.value)}catch{n=this.value}throw new Error(`Pattern matching error: no pattern matches value ${n}`)}return e(o,this.value)}}const xn=(t=je)=>({type:"indicator",messageDelay:t}),bn=({messages:t,isLast:e})=>{const o=S.exports.useRef(e&&!!t.length),[n,r]=S.exports.useState(!o.current),[a,c]=S.exports.useState(o.current),[d,u]=S.exports.useState(o.current?[]:t),f=S.exports.useCallback(()=>{r(!0),c(!1)},[]);return S.exports.useEffect(()=>{if(!o)return;const _=t.flatMap(T=>[xn(T.delay),{type:"message",message:T}]);let v;const b=(T,R)=>{if(R===0){T();return}v=setTimeout(()=>{T()},R)},$=()=>{if(!o.current)return;const T=_.shift();if(!T){f();return}Vt(T).with({type:"message"},({message:R})=>{c(!1),u(E=>[...E,R]),b($,je)}).with({type:"indicator"},({messageDelay:R=je})=>{c(!0),b($,R)}).exhaustive()};return $(),()=>{clearTimeout(v)}},[]),wn(()=>{e||(o.current=!1,f(),u(t))},[e]),{complete:n,showIndicator:a,visibleMessages:d}},ae=U(q.SYSTEM_RESPONSE),zt=x(ae("div","actions"),{display:"flex",flexWrap:"wrap",marginBottom:8,padding:"0 $5 0 54px",[`& ${Q.Container}`]:{height:"unset",paddingTop:7,paddingBottom:7,marginTop:8,marginRight:8,whiteSpace:"normal",textAlign:"start"}}),jt=x(ae("span","controls"),{position:"relative"}),ot=x(ae("div"),{display:"flex",[`& ${J.Container}`]:{visibility:"hidden",alignSelf:"flex-end",margin:"0 8px 4px 0"},[`& ${ne.Container}`]:{alignSelf:"center",whiteSpace:"nowrap",marginLeft:8,opacity:"0%",trans:["opacity"]},[`&:hover ${ne.Container}`]:{opacity:"100%"},variants:{withImage:{true:{[`& ${J.Container}`]:{visibility:"visible"}}},scrollable:{true:{overflowX:"scroll",flexShrink:0,scrollbarWidth:"none","-ms-overflow-style":"none",["&::-webkit-scrollbar"]:{display:"none"}}},center:{true:{alignItems:"center"}}}}),$n=x(ae(ot,"message")),Cn=x(ae(ot,"indicator")),Yt=x(ae("div","list"),{display:"flex",flexDirection:"column",flexShrink:0,[`& ${Xe.Container}`]:{marginBottom:"$1",maxWidth:248,"&:last-of-type":{marginBottom:0}}}),we=({avatar:t})=>w(Cn,{withImage:!0,center:!0,children:[i(J,{avatar:t}),i(fn,{})]}),Ut=we;try{we.displayName="Indicator",we.__docgenInfo={description:"",displayName:"Indicator",props:{avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/SystemResponse/Indicator.tsx#Indicator"]={docgenInfo:we.__docgenInfo,name:"Indicator",path:"src/components/SystemResponse/Indicator.tsx#Indicator"})}catch{}const me=42,Pe=12,qt=U(q.CAROUSEL),On=x(qt("span","button"),{position:"absolute",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"$round",trans:["background-color","box-shadow","opacity"],height:me,width:me,cursor:"pointer",backgroundColor:"$white",color:"$black",boxShadow:"0 1px 3px 1px $shadow1, 0 0 0 1px $shadow3, 0 2px 4px -3px $shadow12, 0 5px 8px -8px $shadow12",border:"none",[`& ${X.Frame}`]:{height:"$xxs",width:"$xxs",color:"rgba(0,0,0,0.6)",trans:["color"]},["&:hover"]:{boxShadow:"0 1px 4px 1px $shadow4, 0 0 0 1px $shadow4, 0 2px 4px -3px $shadow12, 0 5px 8px -8px $shadow12"},["&:active"]:{boxShadow:"0 1px 4px 1px $shadow8, 0 0 0 1px $shadow4, 0 2px 4px -3px $shadow12, 0 5px 8px -8px $shadow12"},[`
      &:hover ${X.Frame},
      &:active ${X.Frame}
    `]:{color:"rgba(0,0,0,0.8)"},variants:{visible:{true:{opacity:1,pointerEvents:"auto"},false:{opacity:0,pointerEvents:"none"}},alignment:{left:{left:48-me/2},right:{right:70-me/2,[`& ${X.Frame}`]:{transform:"scaleX(-1)"}}}}}),Ft=x(qt("div"),{display:"flex",whiteSpace:"nowrap",[`& ${Je.Container}`]:{height:"fit-content",flexShrink:0,marginLeft:Pe,"&:first-of-type":{marginLeft:0}}}),de=S.exports.forwardRef(({onClick:t,alignment:e,visible:o,containerEl:n},r)=>i(On,{ref:r,alignment:e,visible:o,css:{transform:`translateY(calc(${n.clientHeight/2}px - 50%))`},onClick:t,children:i(X,{svg:"largeArrowLeft"})}));try{de.displayName="CarouselButton",de.__docgenInfo={description:"A button used to scroll to the previous or next Card in a Carousel.",displayName:"CarouselButton",props:{alignment:{defaultValue:null,description:"The end of the container where the button will be rendered.",name:"alignment",required:!0,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},visible:{defaultValue:null,description:"If true then the button will be visible, otherwise hidden.",name:"visible",required:!0,type:{name:"boolean"}},containerEl:{defaultValue:null,description:"The buttons will be centered vertically based on the height of this element.",name:"containerEl",required:!0,type:{name:"HTMLElement"}},onClick:{defaultValue:null,description:"A click handler for the button.",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Carousel/CarouselButton.tsx#CarouselButton"]={docgenInfo:de.__docgenInfo,name:"CarouselButton",path:"src/components/Carousel/CarouselButton.tsx#CarouselButton"})}catch{}const rt=pn+2,Kt=rt/3,Tn=rt+Pe+Kt,Me=rt+Pe,ft=(t,e)=>()=>{const o=t==null?void 0:t.current;if(!o)return;const n=e(o);o.scrollTo({left:n&&n*Me,behavior:"smooth"})},In=(t,e,o)=>{const[n,r]=S.exports.useState(!1),[a,c]=S.exports.useState(!1),d=S.exports.useRef(null),u=S.exports.useRef(null),f=o.length>1;return S.exports.useEffect(()=>{!(e!=null&&e.current)||!f||c(!0)},[]),S.exports.useEffect(()=>{const _=t==null?void 0:t.current;if(!_||!f)return;const v=Me*o.length-Pe,b=()=>{const{scrollLeft:$}=_;r($>=Kt),c($<=v-Tn)};return _.addEventListener("scroll",b),()=>{_.removeEventListener("scroll",b)}},[]),{previousButtonRef:d,nextButtonRef:u,showPreviousButton:n,showNextButton:a}},xe=({cards:t,containerRef:e,controlsRef:o})=>{const{previousButtonRef:n,nextButtonRef:r,showPreviousButton:a,showNextButton:c}=In(e,o,t),d=e==null?void 0:e.current,u=o==null?void 0:o.current,f=d&&u,_=ft(e,b=>Math.ceil(b.scrollLeft/Me)-1),v=ft(e,b=>Math.floor(b.scrollLeft/Me)+1);return w(re,{children:[i(Ft,{children:t.map((b,$)=>S.exports.createElement(Je,{...b,key:$}))}),f&&xt.exports.createPortal(w(re,{children:[i(de,{ref:n,alignment:"left",visible:a,containerEl:d,onClick:_}),i(de,{ref:r,alignment:"right",visible:c,containerEl:d,onClick:v})]}),u)]})},Rn=Object.assign(xe,{Container:Ft});try{xe.displayName="Carousel",xe.__docgenInfo={description:"A carousel of {@link Card} components that can be scrolled natively or with buttons.",displayName:"Carousel",props:{cards:{defaultValue:null,description:"A list of props objects which will be passed to {@link Card} components.",name:"cards",required:!0,type:{name:"CardProps[]"}},containerRef:{defaultValue:null,description:"A reference to the HTML element of a parent horizontal scrolling container.",name:"containerRef",required:!1,type:{name:"RefObject<HTMLDivElement>"}},controlsRef:{defaultValue:null,description:"A reference to an HTML element to anchor the carousel controls.",name:"controlsRef",required:!1,type:{name:"RefObject<HTMLSpanElement>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Carousel/index.tsx#Carousel"]={docgenInfo:xe.__docgenInfo,name:"Carousel",path:"src/components/Carousel/index.tsx#Carousel"})}catch{}const be=({url:t})=>i("iframe",{className:"calendly-embed",title:"Termin buchen",src:t,style:{borderRadius:8}});try{be.displayName="CustomCalendly",be.__docgenInfo={description:"",displayName:"CustomCalendly",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/CustomCalendly/index.tsx#CustomCalendly"]={docgenInfo:be.__docgenInfo,name:"CustomCalendly",path:"src/components/CustomCalendly/index.tsx#CustomCalendly"})}catch{}function Ue(t){return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(t)}function An(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mn(t,e,o){return e&&pt(t.prototype,e),o&&pt(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function En(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qe(t,e)}function qe(t,e){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},qe(t,e)}function kn(t){var e=Pn();return function(){var n=Ee(t),r;if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Dn(this,r)}}function Dn(t,e){if(e&&(Ue(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bn(t)}function Bn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ee(t){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},Ee(t)}function Ln(t,e){if(!document.head.querySelector("#"+t)){var o=document.createElement("style");o.textContent=e,o.type="text/css",o.id=t,document.head.appendChild(o)}}var Nn=function(t){En(o,t);var e=kn(o);function o(){return An(this,o),e.apply(this,arguments)}return Mn(o,[{key:"componentDidMount",value:function(){Ln(this.props.name,this.props.css)}},{key:"componentWillUnmount",value:function(){var r=document.getElementById(this.props.name);r.parentNode.removeChild(r)}},{key:"render",value:function(){return null}}]),o}(S.exports.Component),Hn=function(e){var o=e.imageBackgroundColor;return`
  body {
    overflow: hidden;
  }

  .__react_modal_image__modal_container {
    position: fixed;
    z-index: 5000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    touch-action: none;
    overflow: hidden;
  }

  .__react_modal_image__modal_content {
    position: relative;
    height: 100%;
    width: 100%;
  }

  .__react_modal_image__modal_content img, 
  .__react_modal_image__modal_content svg {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%, -50%, 0);
    -webkit-transform: translate3d(-50%, -50%, 0);
    -ms-transform: translate3d(-50%, -50%, 0);
    overflow: hidden;
  }

  .__react_modal_image__medium_img {
    max-width: 98%;
    max-height: 98%;
    background-color: `.concat(o,`;
  }

  .__react_modal_image__large_img {
    cursor: move;
    background-color: `).concat(o,`
  }

  .__react_modal_image__icon_menu a {
    display: inline-block;
    font-size: 40px;
    cursor: pointer;
    line-height: 40px;
    box-sizing: border-box;
    border: none;
    padding: 0px 5px 0px 5px;
    margin-left: 10px;
    color: white;
    background-color: rgba(0, 0, 0, 0);
  }

  .__react_modal_image__icon_menu {
    display: inline-block;
    float: right;
  }

  .__react_modal_image__caption {
    display: inline-block;
    color: white;
    font-size: 120%;
    padding: 10px;
    margin: 0;
  }

  .__react_modal_image__header {
    position: absolute;
    top: 0;
    width: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    overflow: hidden;
  }
`)},Vn=function(){return w("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[i("path",{d:"M0 0h24v24H0z",fill:"none"}),i("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})]})},zn=function(){return w("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[i("path",{d:"M0 0h24v24H0z",fill:"none"}),i("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})]})},jn=function(){return w("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[i("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),i("path",{d:"M0 0h24v24H0z",fill:"none"})]})},Yn=function(){return w("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[i("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),i("path",{d:"M0 0h24v24H0z",fill:"none"})]})},Un=function(){return w("svg",{fill:"#ffffff",height:"48",viewBox:"0 0 24 24",width:"48",xmlns:"http://www.w3.org/2000/svg",children:[i("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"}),i("path",{d:"M0 0h24v24H0V0z",fill:"none"})]})},qn=function(){return w("svg",{fill:"#ffffff",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[i("path",{fill:"none",d:"M0 0h24v24H0V0zm0 0h24v24H0V0z"}),i("path",{d:"M7.47 21.49C4.2 19.93 1.86 16.76 1.5 13H0c.51 6.16 5.66 11 11.95 11 .23 0 .44-.02.66-.03L8.8 20.15l-1.33 1.34zM12.05 0c-.23 0-.44.02-.66.04l3.81 3.81 1.33-1.33C19.8 4.07 22.14 7.24 22.5 11H24c-.51-6.16-5.66-11-11.95-11zM16 14h2V8c0-1.11-.9-2-2-2h-6v2h6v6zm-8 2V4H6v2H4v2h2v8c0 1.1.89 2 2 2h8v2h2v-2h2v-2H8z"})]})};function Fn(t){return document.location.hostname!==new URL(t,document.location).hostname}var Kn=function(e){return function(o){!Fn(e)||(o.preventDefault(),fetch(e).then(function(n){return n.ok||console.error("Failed to download image, HTTP status "+n.status+" from "+e),n.blob().then(function(r){var a=document.createElement("a");a.setAttribute("download",e.split("/").pop()),a.href=URL.createObjectURL(r),a.click()})}).catch(function(n){console.error(n),console.error("Failed to download image from "+e)}))}},Wn=function(e){var o=e.image,n=e.alt,r=e.zoomed,a=e.toggleZoom,c=e.toggleRotate,d=e.onClose,u=e.enableDownload,f=e.enableZoom,_=e.enableRotate;return w("div",{className:"__react_modal_image__header",children:[w("span",{className:"__react_modal_image__icon_menu",children:[u&&i("a",{href:o,download:!0,onClick:Kn(o),children:i(jn,{})}),f&&i("a",{onClick:a,children:r?i(zn,{}):i(Vn,{})}),_&&i("a",{onClick:c,children:i(qn,{})}),i("a",{onClick:d,children:i(Yn,{})})]}),n&&i("span",{className:"__react_modal_image__caption",children:n})]})};function Fe(t){return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(t)}function Zn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gn(t,e,o){return e&&ht(t.prototype,e),o&&ht(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ke(t,e)}function Ke(t,e){return Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ke(t,e)}function Jn(t){var e=eo();return function(){var n=ke(t),r;if(e){var a=ke(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Qn(this,r)}}function Qn(t,e){if(e&&(Fe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(t)}function $e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ke(t){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},ke(t)}function Ve(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var mt=function(t){Xn(o,t);var e=Jn(o);function o(){var n;Zn(this,o);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=e.call.apply(e,[this].concat(a)),Ve($e(n),"state",{loading:!0}),Ve($e(n),"handleOnLoad",function(){n.setState({loading:!1})}),Ve($e(n),"handleOnContextMenu",function(d){!n.props.contextMenu&&d.preventDefault()}),n}return Gn(o,[{key:"render",value:function(){var r=this.props,a=r.id,c=r.className,d=r.src,u=r.style,f=r.handleDoubleClick;return w("div",{children:[this.state.loading&&i(Un,{}),i("img",{id:a,className:c,src:d,style:u,onLoad:this.handleOnLoad,onDoubleClick:f,onContextMenu:this.handleOnContextMenu})]})}}]),o}(S.exports.Component);function We(t){return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(t)}function to(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function no(t,e,o){return e&&gt(t.prototype,e),o&&gt(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function oo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ze(t,e)}function Ze(t,e){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ze(t,e)}function ro(t){var e=io();return function(){var n=De(t),r;if(e){var a=De(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ao(this,r)}}function ao(t,e){if(e&&(We(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y(t)}function Y(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function io(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function De(t){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},De(t)}function G(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var so=function(t){oo(o,t);var e=ro(o);function o(){var n;to(this,o);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=e.call.apply(e,[this].concat(a)),G(Y(n),"state",{move:{x:0,y:0},moveStart:void 0,zoomed:!1,rotationDeg:0}),G(Y(n),"handleKeyDown",function(d){(d.keyCode===27||d.keyCode===13)&&n.props.onClose()}),G(Y(n),"getCoordinatesIfOverImg",function(d){var u=d.changedTouches?d.changedTouches[0]:d;if(u.target.id==="react-modal-image-img"){var f=n.contentEl.getBoundingClientRect(),_=u.clientX-f.left,v=u.clientY-f.top;return{x:_,y:v}}}),G(Y(n),"handleMouseDownOrTouchStart",function(d){if(d.preventDefault(),!(d.touches&&d.touches.length>1)){var u=n.getCoordinatesIfOverImg(d);u||n.props.onClose(),n.state.zoomed&&n.setState(function(f){return{moveStart:{x:u.x-f.move.x,y:u.y-f.move.y}}})}}),G(Y(n),"handleMouseMoveOrTouchMove",function(d){if(d.preventDefault(),!(!n.state.zoomed||!n.state.moveStart)&&!(d.touches&&d.touches.length>1)){var u=n.getCoordinatesIfOverImg(d);!u||n.setState(function(f){return{move:{x:u.x-f.moveStart.x,y:u.y-f.moveStart.y}}})}}),G(Y(n),"handleMouseUpOrTouchEnd",function(d){n.setState({moveStart:void 0})}),G(Y(n),"toggleZoom",function(d){d.preventDefault(),n.setState(function(u){return{zoomed:!u.zoomed,move:u.zoomed?{x:0,y:0}:u.move}})}),G(Y(n),"toggleRotate",function(d){d.preventDefault();var u=n.state.rotationDeg;if(u===360){n.setState({rotationDeg:90});return}n.setState(function(f){return{rotationDeg:f.rotationDeg+=90}})}),n}return no(o,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"render",value:function(){var r=this,a=this.props,c=a.medium,d=a.large,u=a.alt,f=a.onClose,_=a.hideDownload,v=a.hideZoom,b=a.showRotate,$=a.imageBackgroundColor,T=$===void 0?"black":$,R=this.state,E=R.move,N=R.zoomed,D=R.rotationDeg;return w("div",{children:[i(Nn,{name:"__react_modal_image__lightbox",css:Hn({imageBackgroundColor:T})}),w("div",{className:"__react_modal_image__modal_container",children:[w("div",{className:"__react_modal_image__modal_content",onMouseDown:this.handleMouseDownOrTouchStart,onMouseUp:this.handleMouseUpOrTouchEnd,onMouseMove:this.handleMouseMoveOrTouchMove,onTouchStart:this.handleMouseDownOrTouchStart,onTouchEnd:this.handleMouseUpOrTouchEnd,onTouchMove:this.handleMouseMoveOrTouchMove,ref:function(H){r.contentEl=H},children:[N&&i(mt,{id:"react-modal-image-img",className:"__react_modal_image__large_img",src:d||c,style:{transform:"translate3d(-50%, -50%, 0) translate3d(".concat(E.x,"px, ").concat(E.y,"px, 0) rotate(").concat(D,"deg)"),WebkitTransform:"translate3d(-50%, -50%, 0) translate3d(".concat(E.x,"px, ").concat(E.y,"px, 0) rotate(").concat(D,"deg)"),MsTransform:"translate3d(-50%, -50%, 0) translate3d(".concat(E.x,"px, ").concat(E.y,"px, 0) rotate(").concat(D,"deg)")},handleDoubleClick:this.toggleZoom}),!N&&i(mt,{id:"react-modal-image-img",className:"__react_modal_image__medium_img",src:c||d,handleDoubleClick:this.toggleZoom,contextMenu:!c,style:{transform:"translate3d(-50%, -50%, 0) rotate(".concat(D,"deg)"),WebkitTransform:"translate3d(-50%, -50%, 0) rotate(".concat(D,"deg)"),MsTransform:"translate3d(-50%, -50%, 0) rotate(".concat(D,"deg)")}})]}),i(Wn,{image:d||c,alt:u,zoomed:N,toggleZoom:this.toggleZoom,toggleRotate:this.toggleRotate,onClose:f,enableDownload:!_,enableZoom:!v,enableRotate:!!b})]})]})}}]),o}(S.exports.Component);const Ce=({url:t,caption:e})=>{const[o,n]=S.exports.useState(!1),r={cursor:"pointer"},a=()=>{n(!0)},c=()=>{n(!1)};return w(re,{children:[o&&xt.exports.createPortal(i(so,{large:t,alt:e,onClose:c,hideDownload:!0}),document.body),i(bt,{image:t,onClick:a,style:r})]})};try{Ce.displayName="CustomImage",Ce.__docgenInfo={description:"",displayName:"CustomImage",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},caption:{defaultValue:null,description:"",name:"caption",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/CustomImage/index.tsx#CustomImage"]={docgenInfo:Ce.__docgenInfo,name:"CustomImage",path:"src/components/CustomImage/index.tsx#CustomImage"})}catch{}const Le=U(q.FEEDBACK),co=x(Le("div"),{display:"inline-flex",alignItems:"center",boxSizing:"border-box",marginTop:"8.5px"}),lo=x(Le("div","description"),{color:"$darkGrey",marginRight:4,lineHeight:17,typo:{size:12}}),uo=x(Le("div","buttons"),{display:"flex",gap:4}),yt=x(Le("button","button"),{display:"inline-flex",backgroundColor:"transparent",border:0,borderRadius:"$round",width:24,height:24,padding:0,margin:0,cursor:"pointer",variants:{active:{false:{color:"rgb(115 115 118 / 85%)","&:hover":{color:"rgb(115 115 118 / 100%)"}},true:{color:"$white",backgroundColor:"$primary"}},orientation:{positive:{transform:"none"},negative:{transform:"rotate(180deg)"}}},defaultVariants:{active:!1,orientation:"positive"}}),fo=({question:t="Was this helpful?",onClick:e,...o})=>{const[n,r]=tn.useState(null),a=c=>{c!==n&&(e(c),r(c))};return w(co,{...o,children:[i(lo,{children:t}),w(uo,{children:[i(yt,{orientation:"positive",active:n===he.POSITIVE,onClick:()=>a(he.POSITIVE),children:i(ct,{width:"24px",height:"24px"})}),i(yt,{orientation:"negative",active:n===he.NEGATIVE,onClick:()=>a(he.NEGATIVE),children:i(ct,{width:"24px",height:"24px"})})]})]})},po=()=>{const t=S.exports.useContext(St);return S.exports.useEffect(()=>{t.setStatus(cn.ENDED)},[]),null};try{end.displayName="end",end.__docgenInfo={description:"",displayName:"end",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/SystemResponse/state/end.tsx#end"]={docgenInfo:end.__docgenInfo,name:"end",path:"src/components/SystemResponse/state/end.tsx#end"})}catch{}const Oe=({avatar:t,feedback:e,timestamp:o,message:n,withImage:r,children:a})=>{const c=S.exports.useRef(null),d=S.exports.useRef(null);return!a&&(n==null?void 0:n.type)===j.END?i(po,{}):w(re,{children:[i(jt,{ref:d}),w($n,{ref:c,withImage:r,scrollable:(n==null?void 0:n.type)===j.CAROUSEL,children:[i(J,{avatar:t}),w(Yt,{children:[a!=null?a:Vt(n).with({type:j.TEXT},({text:u})=>i(hn,{text:u})).with({type:j.IMAGE},({url:u})=>i(bt,{image:u})).with({type:j.CARD},u=>i(Je,{...lt(u,["type"])})).with({type:j.CAROUSEL},u=>i(Rn,{...lt(u,["type"]),containerRef:c,controlsRef:d})).with({type:j.CUSTOM_IMAGE},({payload:u})=>i(Ce,{...u})).with({type:j.CUSTOM_CALENDLY},({payload:u})=>i(be,{...u})).otherwise(()=>null),e&&i(fo,{...e})]}),i(ne,{value:o})]})]})},Wt=Oe;try{Oe.displayName="SystemMessage",Oe.__docgenInfo={description:"",displayName:"SystemMessage",props:{avatar:{defaultValue:null,description:"An image URL for an avatar to associate this message with.",name:"avatar",required:!0,type:{name:"string"}},timestamp:{defaultValue:null,description:"A unix timestamp indicating when this message was sent.",name:"timestamp",required:!0,type:{name:"number"}},message:{defaultValue:null,description:"A single message to render with a {@link Message } component.",name:"message",required:!1,type:{name:"MessageProps"}},withImage:{defaultValue:null,description:"If true, renders an avatar next to the message.",name:"withImage",required:!0,type:{name:"boolean"}},feedback:{defaultValue:{value:"false"},description:"If provided, will display {@link Feedback} component.",name:"feedback",required:!1,type:{name:"FeedbackProps"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/SystemResponse/SystemMessage.tsx#SystemMessage"]={docgenInfo:Oe.__docgenInfo,name:"SystemMessage",path:"src/components/SystemResponse/SystemMessage.tsx#SystemMessage"})}catch{}const Te=({feedback:t,avatar:e,timestamp:o,messages:n,actions:r=[],isLast:a,Message:c=Wt})=>{const d=S.exports.useContext(St),{showIndicator:u,visibleMessages:f,complete:_}=bn({messages:n,isLast:a});return Ht([u,_,f.length]),!n.length&&!r.length?null:w(re,{children:[f.map((v,b)=>i(c,{message:v,withImage:!u&&b===f.length-1,feedback:_&&!u&&b===f.length-1?t:void 0,avatar:e,timestamp:o},b)),a&&_&&!!r.length&&i(zt,{children:r.map(({request:v,name:b},$)=>i(Q,{variant:"secondary",onClick:()=>d==null?void 0:d.interact(v,b),children:b},$))}),u&&i(Ut,{avatar:e})]})},z=Object.assign(Te,{Message:j,Container:ot,Controls:jt,List:Yt,Actions:zt,Indicator:Ut,SystemMessage:Wt});try{Te.displayName="SystemResponse",Te.__docgenInfo={description:"A dynamic component capable of displaying all standard system responses.",displayName:"SystemResponse",props:{avatar:{defaultValue:null,description:"An image URL for an avatar to associate the messages with.",name:"avatar",required:!0,type:{name:"string"}},timestamp:{defaultValue:null,description:"A unix timestamp indicating when the messages were sent.",name:"timestamp",required:!0,type:{name:"number"}},messages:{defaultValue:null,description:"A list of messages that will be rendered as {@link SystemMessage} components.",name:"messages",required:!0,type:{name:"MessageProps[]"}},actions:{defaultValue:{value:"[]"},description:"A list of actions that will be rendered as buttons.",name:"actions",required:!1,type:{name:"ResponseActionProps[]"}},isLast:{defaultValue:null,description:`If true, allows actions to appear after this message.
Only the last system message in a row can show actions.`,name:"isLast",required:!1,type:{name:"boolean"}},feedback:{defaultValue:{value:"false"},description:"If provided, will display {@link Feedback} component under the last message.",name:"feedback",required:!1,type:{name:"FeedbackProps"}},Message:{defaultValue:null,description:"Override the rendering of individual messages.",name:"Message",required:!1,type:{name:"ComponentType<SystemMessageProps>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/SystemResponse/index.tsx#SystemResponse"]={docgenInfo:Te.__docgenInfo,name:"SystemResponse",path:"src/components/SystemResponse/index.tsx#SystemResponse"})}catch{}const at=U(q.USER_RESPONSE),Zt=x(at("aside","debug"),{typo:{size:"12px",height:"17px"},color:"$darkGrey",marginTop:"$2"}),Gt=x(at("div"),{display:"flex",flexDirection:"column",flexShrink:0,alignItems:"flex-end",[`& ${Xe.Container}`]:{maxWidth:282},[`& > ${$t.Container}`]:{marginTop:"$1"}}),Xt=x(at("div","row"),{display:"flex",width:"100%",alignItems:"center",[`& ${ne.Container}`]:{flexGrow:1,marginRight:8,textAlign:"end",opacity:"0%",trans:["opacity"]},[`&:hover ${ne.Container}`]:{opacity:"100%"}}),Ie=({message:t,timestamp:e,debug:o})=>{var n,r;return Ht(),w(Gt,{children:[w(Xt,{children:[i(ne,{value:e}),i(Xe,{from:"user",children:t})]}),o&&w(re,{children:[i(Zt,{children:o.message}),o.reason&&i($t,{label:(n=o.action)==null?void 0:n.label,onClick:(r=o.action)==null?void 0:r.onClick,orientation:"right",children:o.reason})]})]})},te=Object.assign(Ie,{Container:Gt,Debug:Zt,Row:Xt});try{Ie.displayName="UserResponse",Ie.__docgenInfo={description:"A user-sent text response.",displayName:"UserResponse",props:{message:{defaultValue:null,description:"The message text to display.",name:"message",required:!0,type:{name:"string"}},timestamp:{defaultValue:null,description:"A unix timestamp indicating when this response was sent.",name:"timestamp",required:!0,type:{name:"number"}},debug:{defaultValue:null,description:'If provided, adds a caption and optional "debug" message with an action.',name:"debug",required:!1,type:{name:"DebugResponseProps"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/UserResponse/index.tsx#UserResponse"]={docgenInfo:Ie.__docgenInfo,name:"UserResponse",path:"src/components/UserResponse/index.tsx#UserResponse"})}catch{}const ze=10,ie=U(q.CHAT),Be=x(ie("div","overlay"),{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"$shadow12"}),Ge=x(ie("article"),{position:"relative",display:"flex",overflow:"hidden",flexDirection:"column",backgroundColor:"$white",[`& > ${vt}`]:{margin:"auto"},[`& ${Bt.Container}`]:{animation:`${nn} 150ms ease forwards`},[`& ${Et.Container}`]:{..._t({duration:300,delay:300})},[`& ${Be}`]:{opacity:0,pointerEvents:"none",trans:["opacity"]},[`& ${Se.Container}`]:{position:"absolute",bottom:0,width:"100%",boxSizing:"border-box",paddingBottom:`calc($3 + ${ze}px)`,transition:`transform 320ms cubic-bezier(0.45, 1.29, 0.64, 1), ${on(["box-shadow"],300)}`,transform:`translateY(calc(100% + ${ze}px))`},variants:{withPrompt:{true:{[`& ${Be}`]:{opacity:1,zIndex:2,pointerEvents:"auto"},[`& ${Se.Container}`]:{zIndex:3,transform:`translateY(${ze}px)`}},false:{[`& ${Se.Container}`]:{boxShadow:"none"}}}}}),Jt={display:"flex",justifyContent:"center",typo:{size:12},color:"$darkGrey"},it=x(ie("div","status"),{...Jt}),ho=x(ie("span","session-time"),{...Jt,paddingBottom:"$3"}),Qt=x(ie("main","dialog"),{display:"flex",flexDirection:"column",height:"100%",overflowY:"scroll",overflowX:"hidden",paddingBottom:"$3",[`
    & ${te.Container},
    & ${z.List},
    & ${z.Actions},
    & ${It.Container}
  `]:{..._t({duration:150,delay:0})},[`
    & > ${te.Container},
    & > ${z.Container}
  `]:{padding:"0 $5"},[`& > ${z.Actions}`]:{padding:"0 $5 0 54px"},[`& ${z.Container}`]:{marginBottom:"$1","&:last-of-type":{marginBottom:0}},[`& ${te.Container} + ${te.Container}`]:{marginTop:"$1"},[`
    & ${z.Container} + ${te.Container},
    & ${z.Actions} + ${te.Container},
    & ${te.Container} + ${z.Controls} + ${z.Container}
  `]:{marginTop:"$5"},[`& ${ne.Container}`]:{width:50},[`& ${it}`]:{marginTop:"$3",marginBottom:8}}),en=x(ie("div","spacer"),{flexGrow:1}),Re=({hasEnded:t,title:e,image:o,avatar:n,description:r,startTime:a,isLoading:c,withWatermark:d,onMinimize:u,onEnd:f,onStart:_,onSend:v,children:b})=>{const $=Sn(a),T=S.exports.useRef(null),[R,E]=S.exports.useState(!1),N=F=>{t?f==null||f(F):E(!0)},D=()=>E(!1);return c?i(Ge,{children:i(vt,{})}):w(Ge,{withPrompt:R,children:[i(Bt,{title:e,image:o,actions:[{svg:"minus",onClick:u},{svg:"close",onClick:N}]}),i(Qt,{ref:T,children:w(ln,{target:T,children:[i(It,{title:e,avatar:n,description:r}),i(en,{}),!!$&&i(ho,{children:$}),b,t&&i(it,{children:"Der Chat wurde beendet"})]})}),i(Et,{withWatermark:d,hasEnded:t,onStart:_,onSend:v}),i(Be,{}),i(Se,{accept:{label:"Chat schlie\xDFen",type:"warn",onClick:un(f,D)},cancel:{label:"Abbrechen",onClick:D}})]})},Po=Object.assign(S.exports.memo(Re),{Container:Ge,Dialog:Qt,Overlay:Be,Spacer:en,Status:it});try{Re.displayName="Chat",Re.__docgenInfo={description:"A full chat dialog with header, footer, overlay and auto-scrolling content.",displayName:"Chat",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Chat/index.tsx#Chat"]={docgenInfo:Re.__docgenInfo,name:"Chat",path:"src/components/Chat/index.tsx#Chat"})}catch{}export{It as A,Po as C,Et as F,Bt as H,Vt as K,Se as P,z as S,te as U,Rn as a,Lt as d,lt as o};
//# sourceMappingURL=index.43a546ef.js.map
